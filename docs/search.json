[
  {
    "objectID": "sql.html",
    "href": "sql.html",
    "title": "SQL EKSĀMENS",
    "section": "",
    "text": "Uzņēmums RAD SIA – Būvmateriālu un elektroinstalācijas materiālu tirgotājs. Uzņēmums plāno implementēt ERP  (angļ. Enterprise Resource Planning) sistēmu, kurā tiks veikt visa uzņēmuma darbība. Uzņēmuma galvenās funkcijas ir preču pirkšana, pārdošana, glabāšana.\nUzņēmuma piedāvātas preču klāsts ir no vairākiem ražotājiem un preču grupām. Visām precēm ir pieejama pamata, jeb tarifa, cena. Katram klientam ir piesaistīta arī atlaižu grupa, kura norāda – atlaižu grupu katram klientam.\nUzņēmums ir vairumtirogotājs, strādājošs B2B segmentā – tāpēc uzņēmuma klienti ir juridiskas personas personas."
  },
  {
    "objectID": "sql.html#tabulu-struktūra",
    "href": "sql.html#tabulu-struktūra",
    "title": "SQL EKSĀMENS",
    "section": "TABULU STRUKTŪRA",
    "text": "TABULU STRUKTŪRA\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrece\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nProductID\n\nPreces identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nProductName\n\nPreces nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nSupplierID\n\nRažotāja kods\n\nVARCHAR2\n\n50\n\n \n\nNOT NULL\n\n\n\n\nEAN\n\nPreces svītrukods\n\nVARCHAR2\n\n11\n\n \n\nNOT NULL\n\n\n\n\nUnit\n\nMērvienība\n\nVARCHAR2\n\n20\n\n \n\nNOT NULL\n\n\n\n\nManufacturerID\n\nRažotāja identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nForeign Key\n\nNOT NULL\n\n\n\n\nBasePrice\n\nPreces cena\n\nNUMBER\n\n10,2\n\n \n\nNOT NULL\n\n\n\n\nPackageAmount\n\nPreces daudzums iepakojumā\n\nNUMBER\n\n \n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRažotājs\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nManufacturerID\n\nRažotāja identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nManufacturerName\n\nRažotājs nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nContactInfo\n\nRažotājs kontakt informācija\n\nVARCHAR2\n\n255\n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nKlienti\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nClientID\n\nKlienta identifikācijas numurs\n\nNUMBER\n\n \n\nPrimary Key\n\nNOT NULL\n\n\n\n\nClientName\n\nKlienta nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nRegistrationNumber\n\nKlienta reģistrācijas numurs\n\nVARCHAR2\n\n11\n\n \n\nNOT NULL\n\n\n\n\nAddress\n\nKlienta juridiskā adrese\n\nVARCHAR2\n\n255\n\n \n\nNOT NULL\n\n\n\n\nDiscountGroupID\n\nAtlaides grupas identifikācijas numurs\n\nNUMBER\n\n \n\nForeign Key\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAtlaižu grupa\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nDiscountGroupID\n\nAtlaižu grupas identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nDiscountGroupName\n\nAtlaižu grupas nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nDiscountPercentage\n\nPreces atlaide % no pamata cenas\n\nNUMBER\n\n5,2\n\n \n\nCHECK\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPasūtījums\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nOrderID\n\nPasūtījums identifikācijas numurs\n\nNUMBER\n\n \n\nPrimary Key\n\nNOT NULL\n\n\n\n\nClientID\n\nKlienta identifikācijas numurs\n\nNUMBER\n\n \n\nForeign Key\n\nNOT NULL\n\n\n\n\nOrderDate\n\nPasūtījuma datums\n\nDATE\n\n \n\n \n\nDEFAULT NULL\n\n\n\n\nTotalAmount\n\nPasūtījuma summa\n\nNUMBER\n\n10,2\n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nPasūtījumu detaļas\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\n\n\n\n\n\nApraksts\n\n\n\n\n\n\nDatu tips\n\n\n\n\n\n\nIzmērs\n\n\n\n\n\n\nStatuss\n\n\n\n\n\n\nIerobežojumi\n\n\n\n\n\n\n\n\n\n\nOrderDetailID\n\n\n\n\n\n\nPasūtījums detaļu identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nPrimary Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nOrderID\n\n\n\n\n\n\nPasūtījuma identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nForeign Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nProductID\n\n\n\n\n\n\nprece identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nForeign Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nQuantity\n\n\n\n\n\n\nPārdotais daudzums\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\n5\n\n\n\n\n\n\n \n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nUnitPrice\n\n\n\n\n\n\nPārdošanas cena\n\n\n\n\n\n\nUnitPrice\n\n\n\n\n\n\n10,2\n\n\n\n\n\n\n \n\n\n\n\n\n\nNOT NULL"
  },
  {
    "objectID": "sql.html#darba-ar-oracle-sql",
    "href": "sql.html#darba-ar-oracle-sql",
    "title": "SQL EKSĀMENS",
    "section": "Darba ar Oracle SQL",
    "text": "Darba ar Oracle SQL\n\nTabulu izveidošana\nCREATE TABLE Manufacturers ( \n    ManufacturerID NUMBER PRIMARY KEY, \n    ManufacturerName VARCHAR2(100) NOT NULL, \n    ContactInfo VARCHAR2(255) NOT NULL \n);\n\nCREATE TABLE DiscountGroups ( \n    DiscountGroupID NUMBER PRIMARY KEY, \n    DiscountGroupName VARCHAR2(100), \n    DiscountPercentage NUMBER(5, 2) \n);\n\nCREATE TABLE Products ( \n    ProductID NUMBER PRIMARY KEY, \n    ProductName VARCHAR2(100) NOT NULL, \n    SupplierID VARCHAR2(50) NOT NULL,  \n    EAN VARCHAR2(13) NOT NULL UNIQUE, \n    Unit VARCHAR2(20) NOT NULL, \n    ManufacturerID NUMBER NOT NULL,  \n    BasePrice NUMBER(10, 2) NOT NULL, \n    PackageAmount NUMBER NOT NULL, \n    FOREIGN KEY (ManufacturerID) REFERENCES Manufacturers(ManufacturerID) \n);\n\nCREATE TABLE Clients ( \n    ClientID NUMBER PRIMARY KEY, \n    ClientName VARCHAR2(100) NOT NULL, \n    RegistrationNumber VARCHAR2(11) NOT NULL UNIQUE, \n    Address VARCHAR2(255) NOT NULL, \n    DiscountGroupID NUMBER NOT NULL, \n    FOREIGN KEY (DiscountGroupID) REFERENCES DiscountGroups(DiscountGroupID) \n);\n\nCREATE TABLE Orders ( \n    OrderID NUMBER PRIMARY KEY, \n    ClientID NUMBER NOT NULL, \n    OrderDate DATE NOT NULL, \n    TotalAmount NUMBER(10, 2) NOT NULL, \nFOREIGN KEY (ClientID) REFERENCES Clients(ClientID) \n);\n\nCREATE TABLE OrderDetails ( \n    OrderDetailID NUMBER PRIMARY KEY, \n    OrderID NUMBER NOT NULL, \n    ProductID NUMBER NOT NULL, \n    Quantity NUMBER NOT NULL, \n    UnitPrice NUMBER(10, 2) NOT NULL, \n    FOREIGN KEY (OrderID) REFERENCES Orders(OrderID), \n    FOREIGN KEY (ProductID) REFERENCES Products(ProductID) \n);\n\n\n\nTabulu aizpildīšana\nINSERT INTO Manufacturers VALUES (101, 'Elektronika Ltd.', 'info@elektronika.com');\nINSERT INTO Manufacturers VALUES (102, 'Kabeļu Risinājumi', 'contact@kabris.lv');\nINSERT INTO Manufacturers VALUES (103, 'Drošības Sistēmas', 'support@drosiba.lv');\nINSERT INTO Manufacturers VALUES (104, 'BalticTech Solutions', 'sales@baltictech.lv');\nINSERT INTO Manufacturers VALUES (105, 'ElektroSmart', 'info@elektrosmart.com');\nINSERT INTO Manufacturers VALUES (106, 'SafeWire Systems', 'contact@safewire.lv');\n\nINSERT INTO DiscountGroups VALUES (1, 'Klients C', 5.00);\nINSERT INTO DiscountGroups VALUES (2, 'Klients B', 10.00);\nINSERT INTO DiscountGroups VALUES (3, 'Klients A', 15.00);\nINSERT INTO DiscountGroups VALUES (4, 'Klients D', 3.00);\nINSERT INTO DiscountGroups VALUES (5, 'Klients E', 7.50);\n\nINSERT INTO Clients VALUES (1, 'Tesco SIA', '12345678910', 'Pilsētas iela 10', 1);\nINSERT INTO Clients VALUES (2, 'Walmarts SIA', '23456789012', 'Dārza iela 15', 2);\nINSERT INTO Clients VALUES (3, 'Kaprs SIA', '34567890123', 'Rīgas iela 50', 3);\nINSERT INTO Clients VALUES (4, 'RISBEA SIA', '09876543211', 'Ostas iela 25', 2);\nINSERT INTO Clients VALUES (5, 'LULA SIA', '01928374651', 'Mazā iela 5', 1);\nINSERT INTO Clients VALUES (6, 'Maxima SIA', '45678901234', 'Liepājas prospekts 7', 4);\nINSERT INTO Clients VALUES (7, 'Elko Grupa', '56789012345', 'Ganību dambis 22', 5);\nINSERT INTO Clients VALUES (8, 'Rimi Latvia', '67890123456', 'Ulmaņa gatve 101', 3);\nINSERT INTO Clients VALUES (9, 'Prisma SIA', '78901234567', 'Brīvības bulvāris 12', 2);\nINSERT INTO Clients VALUES (10, 'Elektro Serviss', '89012345678', 'Maskavas iela 246', 5);\n\nINSERT INTO Products VALUES (1, 'Elektrības kabelis 3x1.5mm', 'CAB101', '12345678901', 'm', 101, 0.85, 100);\nINSERT INTO Products VALUES (2, 'Elektrības kabelis 3x2.5mm', 'CAB102', '23456789012', 'm', 101, 1.20, 100);\nINSERT INTO Products VALUES (3, 'Sadalne kārba 100x100mm', 'FE10', '34567890123', 'gb', 102, 3.50, 1);\nINSERT INTO Products VALUES (4, 'PVC truba 16mm', 'PIPE301', 'RLM16p', 'm', 102, 0.75, 50);\nINSERT INTO Products VALUES (5, 'Vadu savienojuma skava', 'u-16', '56789012345', 'gb', 103, 0.10, 100);\nINSERT INTO Products VALUES (6, 'Drošinātājs 16A', '16A2', '67890123456', 'gb', 103, 1.25, 10);\nINSERT INTO Products VALUES (7, 'Vadu marķieris', 'a123', '78901234567', 'gb', 103, 0.50, 50);\n\nINSERT INTO Orders VALUES (1001, 1, TO_DATE('2024-11-01', 'YYYY-MM-DD'), 125.00);\nINSERT INTO Orders VALUES (1002, 1, TO_DATE('2024-11-02', 'YYYY-MM-DD'), 75.00);\nINSERT INTO Orders VALUES (1003, 3, TO_DATE('2024-11-03', 'YYYY-MM-DD'), 250.00);\nINSERT INTO Orders VALUES (1004, 5, TO_DATE('2024-11-04', 'YYYY-MM-DD'), 90.00);\nINSERT INTO Orders VALUES (1005, 2, TO_DATE('2024-11-05', 'YYYY-MM-DD'), 180.00);\nINSERT INTO Orders VALUES (1006, 6, TO_DATE('2024-11-06', 'YYYY-MM-DD'), 220.00);\nINSERT INTO Orders VALUES (1007, 8, TO_DATE('2024-11-07', 'YYYY-MM-DD'), 95.50);\nINSERT INTO Orders VALUES (1008, 9, TO_DATE('2024-11-08', 'YYYY-MM-DD'), 150.75);\nINSERT INTO Orders VALUES (1009, 7, TO_DATE('2024-11-09', 'YYYY-MM-DD'), 300.00);\nINSERT INTO Orders VALUES (1010, 10, TO_DATE('2024-11-10', 'YYYY-MM-DD'), 120.50);\n\nINSERT INTO OrderDetails VALUES (2001, 1001, 1, 100, 0.85);\nINSERT INTO OrderDetails VALUES (2002, 1001, 3, 5, 3.50);\nINSERT INTO OrderDetails VALUES (2003, 1002, 2, 50, 1.20);\nINSERT INTO OrderDetails VALUES (2004, 1003, 4, 100, 0.75);\nINSERT INTO OrderDetails VALUES (2005, 1004, 6, 10, 1.25);\nINSERT INTO OrderDetails VALUES (2006, 1004, 7, 20, 0.50);\nINSERT INTO OrderDetails VALUES (2007, 1005, 2, 100, 1.20);\nINSERT INTO OrderDetails VALUES (2008, 1005, 5, 50, 0.10);\nINSERT INTO OrderDetails VALUES (2009, 1006, 9, 20, 1.75);\nINSERT INTO OrderDetails VALUES (2010, 1006, 10, 15, 2.25);\nINSERT INTO OrderDetails VALUES (2011, 1007, 8, 30, 2.50);\nINSERT INTO OrderDetails VALUES (2012, 1008, 11, 10, 3.00);\nINSERT INTO OrderDetails VALUES (2013, 1008, 12, 50, 1.10);\nINSERT INTO OrderDetails VALUES (2014, 1009, 1, 150, 0.85);\nINSERT INTO OrderDetails VALUES (2015, 1009, 3, 10, 3.50);\nINSERT INTO OrderDetails VALUES (2016, 1009, 5, 75, 0.10);\nINSERT INTO OrderDetails VALUES (2017, 1010, 6, 15, 1.25);\nINSERT INTO OrderDetails VALUES (2018, 1010, 7, 25, 0.50);\nINSERT INTO OrderDetails VALUES (2019, 1010, 9, 10, 1.75);\nINSERT INTO OrderDetails VALUES (2020, 1010, 12, 40, 1.10);\n\n\n\nPamata vaicājumi\n-- Atjaunina produkta cenu\nUPDATE Products  \nSET BasePrice = 2.25  \nWHERE ProductID = 4;\n\n-- Pievieno jaunu klientu\nINSERT INTO Clients VALUES (11, 'Baltijas Energo', '55544433322', 'Brīvības gatve 77', 2);\n\n-- Dzēš klientu no tabulas Clients\nDELETE FROM Clients \nWHERE ClientID = 11;\n\n-- Atlasa visas rindas no tabulas \"OrderDetails\", kurām ProductID ir 6\nSELECT * \nFROM OrderDetails  \nWHERE ProductID = 6;\n\n-- Atlasa produkta ar ID 11 bāzes cenu no tabulas \"Products\"\nSELECT BasePrice \nFROM Products  \nWHERE ProductID = 5;\n\n-- Pievieno jaunu kolonnu \nALTER TABLE OrderDetails \nADD DiscountAmount NUMBER(10, 2);\n\n-- Noņem kolonnu \"DiscountAmount\" no tabulas \"OrderDetails\"\nALTER TABLE OrderDetails \nDROP COLUMN DiscountAmount;\n\n\n\nVienkārša vaicājumi\n\nAtlasa ražotāju ID, nosaukumu un kontaktinformāciju no tabulas “Manufacturers”\n\nSELECT ManufacturerID, ManufacturerName, ContactInfo \nFROM Manufacturers;\n\n\nAtlasa klientu ID, vārdu un reģistrācijas numuru no tabulas “Clients”, kuri pieder atlaižu grupai ar ID 2\n\nSELECT ClientID, ClientName, RegistrationNumber \nFROM Clients \nWHERE DiscountGroupID = 2;\n\n\nAtlasa produktu nosaukumu, bāzes cenu un mērvienību no tabulas “Products” un sakārto rezultātus pēc cenas dilstošā secībā\n\nSELECT ProductName, BasePrice, Unit \nFROM Products \nORDER BY BasePrice DESC;\n\n\nAtlasa klientu vārdus no tabulas “Clients”, kuriem vārda garums (simbolu skaits) ir tieši 10\n\nSELECT ClientName \nFROM Clients \nWHERE LENGTH(ClientName) = 10;\n\n\nAprēķina visu pasūtījumu kopējo summu\n\nSELECT SUM(TotalAmount) AS KopējaSumma \nFROM Orders;\n\n\nIzvada pasūtījumus, kas veikti 2024. gada novembrī\n\nSELECT * \nFROM Orders \nWHERE OrderDate BETWEEN TO_DATE('2024-11-01', 'YYYY-MM-DD') AND TO_DATE('2024-11-30', 'YYYY-MM-DD');\n\n\nAprēķina kopējo cenu katrai pasūtījuma detaļai\n\nSELECT \n    OrderDetailID, \n    OrderID, \n    ProductID, \n    Quantity, \n    UnitPrice, \n    (Quantity * UnitPrice) AS KopējāCena \nFROM OrderDetails;\n\n\n\n\nVidējas sarežģītības vaicājumi\n\nAtlasa produktu nosaukumus, ražotāju nosaukumus un bāzes cenas, kur bāzes cena ir mazāka par 1.00\n\nSELECT  \n    p.ProductName,  \n    m.ManufacturerName,  \n    p.BasePrice \nFROM Products p \nJOIN Manufacturers m ON p.ManufacturerID = m.ManufacturerID \nWHERE p.BasePrice &lt; 1.00;\n\n\nAtlasa produktus ar informāciju, kur ražotāja nosaukums satur vārdu “Elektronika”\n\nSELECT ProductID, ProductName, BasePrice, Unit  \nFROM Products p  \nJOIN Manufacturers m ON p.ManufacturerID = m.ManufacturerID  \nWHERE m.ManufacturerName LIKE '%Elektronika%';\n\n\nAtlasa klientus un viņu veikto pasūtījumu skaitu, sakārtotus pēc pasūtījumu skaita dilstošā secībā\n\nSELECT c.ClientName, COUNT(o.OrderID) AS PasutijumuSkaits \nFROM Clients c \nLEFT JOIN Orders o ON c.ClientID = o.ClientID \nGROUP BY c.ClientName \nORDER BY PasutijumuSkaits DESC;\n\n\nAtlasa pasūtījumus, klientus un pasūtījuma datumu, kur pasūtījuma summa ir lielāka par 100, sakārtotus dilstošā secībā pēc summas\n\nSELECT o.OrderID, c.ClientName, o.OrderDate, o.TotalAmount \nFROM Orders o \nJOIN Clients c ON o.ClientID = c.ClientID \nWHERE o.TotalAmount &gt; 100 \nORDER BY o.TotalAmount DESC;\n\n\nAtlasa pasūtījumu detaļas ar produktu nosaukumiem, kas satur vārdu “kabelis”\n\nSELECT o.OrderID, p.ProductName, od.Quantity  \nFROM OrderDetails od  \nJOIN Products p ON od.ProductID = p.ProductID  \nJOIN Orders o ON od.OrderID = o.OrderID  \nWHERE p.ProductName LIKE '%kabelis%';\n\n\nAtlasa klientu vārdus un atbilstošās atlaižu grupas\n\nSELECT c.ClientName AS Klients, d.DiscountGroupName AS AtlaižuGrupa \nFROM Clients c\nJOIN DiscountGroups d \nON c.DiscountGroupID = d.DiscountGroupID;\n\n\nAtlasa unikālos ražotāju nosaukumus no produktiem\n\nSELECT DISTINCT m.ManufacturerName  \nFROM Manufacturers m \nJOIN Products p  ON m.ManufacturerID = p.ManufacturerID;\n\n\n\n\nPaaugstinātas sarežģītības vaicājumi\n\n1. Rangs un blīvais rangs klientiem pēc pasūtījuma summas atlaižu grupās\nSELECT ProductID, ProductName,  ManufacturerID,  BasePrice, \n    RANK() OVER (PARTITION BY ManufacturerID ORDER BY BasePrice DESC) AS PriceRank -- Produkta cenas rangs katra ražotāja ietvaros\nFROM \n    Products\n\nDarbības un paskaidrojumi\nPARTITION BY ManufacturerID: Nodrošina, ka rangs tiek aprēķināts atsevišķi katram ražotājam.\nORDER BY BasePrice DESC: Nodrošina, ka augstāka cena iegūst zemāku rangu.\nRANK(): Ja produktiem ir vienāda cena, tiem tiek piešķirts vienāds rangs, bet nākamais produkts saņem nākamo rangu.\n\n\nKlienti ar pasūtījumu kopējo summu un vidējo summu\n\n-- Izvēlas klienta ID, vārdu un vidējo pasūtījumu summu\nSELECT \n    c.ClientID, \n    c.ClientName, \n    AVG(o.TotalAmount) AS AverageOrder \nFROM \n    Clients c \nJOIN \n    Orders o ON c.ClientID = o.ClientID \nGROUP BY \n    c.ClientID, c.ClientName \nHAVING \n    AVG(o.TotalAmount) &gt; 100; \n\nDarbības un paskaidrojumi\nAVG (o.TotalAmount) AS AverageOrder: Rezultātā attēlos pasūtījuma vidējos apjomus.\nHAVING AVG(o.TotalAmount) &gt; 100 : Apakšnosacījums, lai parāda tikai no pasūtījumiem, kuriem apjoms virs 100 eiro\n\n\nKlienti ar pasūtījumu kopējo summu un vidējo summu\n\nSELECT \n    ProductID,\n    ProductName, \n    BasePrice\nFROM \n    Products\nWHERE \n    BasePrice &gt; (SELECT AVG(BasePrice) FROM Products); -- Filtrē produktus ar cenu virs vidējās\n\nDarbības un paskaidrojumi\nBasePrice &gt; (SELECT AVG(BasePrice) FROM Products) : Attēlo vienīgi tos produktus, kuri izpilda salīdzinājumu starp individuālā produkta cenu un apakšvaicājuma rezultātā iegūto visu produktu vidējo cenu\n\n\nKlienti, kuru vidējā pasūtījuma summa ir augstāka par visiem klientiem kopumā\n\nSELECT \n    c.ClientID, \n    c.ClientName, \n    AVG(o.TotalAmount) AS AverageOrder -- Vidējā pasūtījuma summa\nFROM \n    Clients c \nJOIN \n    Orders o ON c.ClientID = o.ClientID \nGROUP BY \n    c.ClientID, c.ClientName\nHAVING \n    AVG(o.TotalAmount) &gt; (\n        -- Apakšvaicājums, kas aprēķina vidējo pasūtījumu summu visiem klientiem\n        SELECT \n            AVG(TotalAmount) \n        FROM \n            Orders\n    );\n\nDarbības un paskaidrojumi\nGROUP BY c.ClientID, c.ClientName : Nepieciešams AVG funkciju izpildīšanai.\nHAVING : Izveido papildus nosacījumus datu filtrēšanai\n( SELECT AVG(TotalAmount) FROM Orders ) : Apakšvaicājums salīdzināšanai\n\n\nProduktu vērtības salīdzinājums ražotāju griezumā\n\nSELECT \n    ProductID,\n    ManufacturerID,\n    BasePrice,\n    RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Rank,\n    DENSE_RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Dense_Rank\nFROM \n    Products\nWHERE \n    ManufacturerID IN (101, 102)\nUNION\nSELECT \n    ProductID,\n    ManufacturerID,\n    BasePrice,\n    RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Rank,\n    DENSE_RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Dense_Rank\nFROM \n    Products\nWHERE \n    ManufacturerID IN (103, 104)\n    AND BasePrice &gt; 1.00;\n\nDarbības un paskaidrojumi\nRANK() OVER (\n    PARTITION BY ManufacturerID \n    ORDER BY BasePrice DESC NULLS LAST\n) AS Total_Value_Rank\nRANK(): Piešķir rangu katrai vērtībai\nOVER (): Definē window (datu loga) parametrus\nPARTITION BY: Sadala datus grupās vadoties pēc ManufacturerID\nORDER BY: Nosaka ranžēšanas kārtību, pamatojoties uz BasePrice\nNULLS LAST: Nulles vērtības novieto saraksta beigās\n\n\nJa mums ir produkti no ražotāja 101:\n\nProdukts A: Cena 3.50 → Rank 1\nProdukts B: Cena 3.50 → Rank 1\nProdukts C: Cena 2.00 → Rank 3\n\n\n\nSELECT ... WHERE ManufacturerID IN (101, 102)\nUNION\nSELECT ... WHERE ManufacturerID IN (103, 104)\nApvieno divu SELECT rezultātus. Izņem dublētās rindas. Ļauj kombinēt dažādus meklēšanas nosacījumus"
  },
  {
    "objectID": "R-MD4.html",
    "href": "R-MD4.html",
    "title": "R Language Basics: Homework 4",
    "section": "",
    "text": "1. (1 point) Create a function that takes a vector as an input, and returns a data frame with min, mean, median and max value.\n\n\nf &lt;- function(x){\n  df &lt;- data.frame(\n    mean = round(mean(x),3),\n    median = median(x),\n    maximum = max(x),\n    minimum = min(x)\n  )\n  return(df)\n}\nvec &lt;- c(1,5,6,8,14,6,3)\nkbl(f(vec))\n\n\n\n\nmean\nmedian\nmaximum\nminimum\n\n\n\n\n6.143\n6\n14\n1\n\n\n\n\n\n\n\n\n\nCreate a function that takes a string and a number n as an input. Function must return n−th symbol of the string. If n is less than 1, function should give an error message stating that; if n is greater than number of symbols in the string, function should return the last symbol.\n\n\n# definējam ievadāmos mainīgos\nTeksts &lt;- \"MansTeksts\"\n# funkcijas inicializācija\nf &lt;- function(n,s){\n    # iegūstām string garumus\n  s_lenght &lt;- nchar(s)\n  # pārbaudām vai n nav mazāks vai vienāds ar 1\n  if(n&lt;=1){\n    print(\"N nevar būt mazāks vai vienāds ar 1\")\n    n &lt;- 1\n  }\n  # pārbaudām vai n nav ārpus s garuma\n  if ( n &gt; s_lenght ){\n    print(\"N nevar būt lielāks par kopējo teksta garumua\")\n    return()\n  }\n\n  # iegustam n-th stringa simbolu\n  return (substr(s, n,n))\n  \n}\n\nf(1,Teksts)\n\n[1] \"N nevar būt mazāks vai vienāds ar 1\"\n\n\n[1] \"M\"\n\nf(5,Teksts)\n\n[1] \"T\"\n\nf(20,Teksts)\n\n[1] \"N nevar būt lielāks par kopējo teksta garumua\"\n\n\nNULL\n\n\n\n\n(2 points) Create a function with input arguments J and K. The function should calculate:\n\\[ X =\\sum_{j=1}^{J}\\sum_{k=1}^{K}\\frac{k^2 \\times j^5}{K^2} \\]\nIf any argument is missing in a function call, it must be replaced with number 5; if any argument in a function call is not strictly positive or is not a number, terminate the function and give an error messag\n\n\nmath &lt;- function(j,k){\n  # Pārbaudām vai ir trūkstošas vērtības.\n  if(missing(j)){j=5}\n  if(missing(k)){k=5}\n  if(j&lt;1 | k&lt;1 | is.character(j) == TRUE| is.character(k)==TRUE){\n  # sakarā ar to, ka STOP funkcija apstādina koda kompilāciju\n  # tā apstādina .qmd renderu. Tāpēc pārveidoju par warning()\n     # stop(\"EROR\")\n    warning(\"ERROR IR INPUT\")\n    \n    if(is.character(j)==TRUE){j=3}\n    if(is.character(k)==TRUE){k=3}\n  }\n\n  \nresult &lt;- (sum(1:j))*(sum(1:k))*(k^2*j^5)/(sum(1:k)^2)\npaste(\"Result of equation is X=\",result)  \n  \n}\nmath(75 ,5)  \n\n[1] \"Result of equation is X= 11271972656250\"\n\nmath(,3)\n\n[1] \"Result of equation is X= 70312.5\"\n\nmath(3,)\n\n[1] \"Result of equation is X= 2430\"\n\nmath(\"asr\",5)\n\nWarning in math(\"asr\", 5): ERROR IR INPUT\n\n\n[1] \"Result of equation is X= 2430\"\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kirils Volobujevs",
    "section": "",
    "text": "RISEBA Studiju darbu prezentēšana\n\n\n\n\n Back to top"
  },
  {
    "objectID": "LRKPM.html",
    "href": "LRKPM.html",
    "title": "Lineārā",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\"\n\n\n\n\n\n\nPārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai.\n\n\n\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "LRKPM.html#sākotnējie-dati",
    "href": "LRKPM.html#sākotnējie-dati",
    "title": "Lineārā",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\""
  },
  {
    "objectID": "LRKPM.html#trendu-izpēte",
    "href": "LRKPM.html#trendu-izpēte",
    "title": "Lineārā",
    "section": "",
    "text": "Pārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai."
  },
  {
    "objectID": "LRKPM.html#prognozes-veidošana",
    "href": "LRKPM.html#prognozes-veidošana",
    "title": "Lineārā",
    "section": "",
    "text": "Prognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\""
  },
  {
    "objectID": "LRKPM.html#prognozes-vizualizēšana",
    "href": "LRKPM.html#prognozes-vizualizēšana",
    "title": "Lineārā",
    "section": "",
    "text": "Lineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "regr.html",
    "href": "regr.html",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  },
  {
    "objectID": "regr.html#sākotnējie-dati",
    "href": "regr.html#sākotnējie-dati",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))"
  },
  {
    "objectID": "regr.html#datu-analīze",
    "href": "regr.html#datu-analīze",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Code\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()"
  },
  {
    "objectID": "regr.html#prognozes-veidošana",
    "href": "regr.html#prognozes-veidošana",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Prognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  }
]