[
  {
    "objectID": "sql.html",
    "href": "sql.html",
    "title": "SQL EKSĀMENS",
    "section": "",
    "text": "Uzņēmums RAD SIA – Būvmateriālu un elektroinstalācijas materiālu tirgotājs. Uzņēmums plāno implementēt ERP  (angļ. Enterprise Resource Planning) sistēmu, kurā tiks veikt visa uzņēmuma darbība. Uzņēmuma galvenās funkcijas ir preču pirkšana, pārdošana, glabāšana.\nUzņēmuma piedāvātas preču klāsts ir no vairākiem ražotājiem un preču grupām. Visām precēm ir pieejama pamata, jeb tarifa, cena. Katram klientam ir piesaistīta arī atlaižu grupa, kura norāda – atlaižu grupu katram klientam.\nUzņēmums ir vairumtirogotājs, strādājošs B2B segmentā – tāpēc uzņēmuma klienti ir juridiskas personas personas!"
  },
  {
    "objectID": "sql.html#tabulu-struktūra",
    "href": "sql.html#tabulu-struktūra",
    "title": "SQL EKSĀMENS",
    "section": "TABULU STRUKTŪRA",
    "text": "TABULU STRUKTŪRA\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrece\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nProductID\n\nPreces identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nProductName\n\nPreces nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nSupplierID\n\nRažotāja kods\n\nVARCHAR2\n\n50\n\n \n\nNOT NULL\n\n\n\n\nEAN\n\nPreces svītrukods\n\nVARCHAR2\n\n11\n\n \n\nNOT NULL\n\n\n\n\nUnit\n\nMērvienība\n\nVARCHAR2\n\n20\n\n \n\nNOT NULL\n\n\n\n\nManufacturerID\n\nRažotāja identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nForeign Key\n\nNOT NULL\n\n\n\n\nBasePrice\n\nPreces cena\n\nNUMBER\n\n10,2\n\n \n\nNOT NULL\n\n\n\n\nPackageAmount\n\nPreces daudzums iepakojumā\n\nNUMBER\n\n \n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRažotājs\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nManufacturerID\n\nRažotāja identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nManufacturerName\n\nRažotājs nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nContactInfo\n\nRažotājs kontakt informācija\n\nVARCHAR2\n\n255\n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nKlienti\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nClientID\n\nKlienta identifikācijas numurs\n\nNUMBER\n\n \n\nPrimary Key\n\nNOT NULL\n\n\n\n\nClientName\n\nKlienta nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nRegistrationNumber\n\nKlienta reģistrācijas numurs\n\nVARCHAR2\n\n11\n\n \n\nNOT NULL\n\n\n\n\nAddress\n\nKlienta juridiskā adrese\n\nVARCHAR2\n\n255\n\n \n\nNOT NULL\n\n\n\n\nDiscountGroupID\n\nAtlaides grupas identifikācijas numurs\n\nNUMBER\n\n \n\nForeign Key\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAtlaižu grupa\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nDiscountGroupID\n\nAtlaižu grupas identifikācijas numurs\n\nNUMBER\n\nLong Integer\n\nPrimary Key\n\nNOT NULL\n\n\n\n\nDiscountGroupName\n\nAtlaižu grupas nosaukums\n\nVARCHAR2\n\n100\n\n \n\nNOT NULL\n\n\n\n\nDiscountPercentage\n\nPreces atlaide % no pamata cenas\n\nNUMBER\n\n5,2\n\n \n\nCHECK\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPasūtījums\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\nApraksts\n\nDatu tips\n\nIzmērs\n\nStatuss\n\nIerobežojumi\n\n\n\n\nOrderID\n\nPasūtījums identifikācijas numurs\n\nNUMBER\n\n \n\nPrimary Key\n\nNOT NULL\n\n\n\n\nClientID\n\nKlienta identifikācijas numurs\n\nNUMBER\n\n \n\nForeign Key\n\nNOT NULL\n\n\n\n\nOrderDate\n\nPasūtījuma datums\n\nDATE\n\n \n\n \n\nDEFAULT NULL\n\n\n\n\nTotalAmount\n\nPasūtījuma summa\n\nNUMBER\n\n10,2\n\n \n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nPasūtījumu detaļas\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLauks\n\n\n\n\n\n\nApraksts\n\n\n\n\n\n\nDatu tips\n\n\n\n\n\n\nIzmērs\n\n\n\n\n\n\nStatuss\n\n\n\n\n\n\nIerobežojumi\n\n\n\n\n\n\n\n\n\n\nOrderDetailID\n\n\n\n\n\n\nPasūtījums detaļu identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nPrimary Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nOrderID\n\n\n\n\n\n\nPasūtījuma identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nForeign Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nProductID\n\n\n\n\n\n\nprece identifikācijas numurs\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\nLong Integer\n\n\n\n\n\n\nForeign Key\n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nQuantity\n\n\n\n\n\n\nPārdotais daudzums\n\n\n\n\n\n\nNUMBER\n\n\n\n\n\n\n5\n\n\n\n\n\n\n \n\n\n\n\n\n\nNOT NULL\n\n\n\n\n\n\n\n\n\n\nUnitPrice\n\n\n\n\n\n\nPārdošanas cena\n\n\n\n\n\n\nUnitPrice\n\n\n\n\n\n\n10,2\n\n\n\n\n\n\n \n\n\n\n\n\n\nNOT NULL"
  },
  {
    "objectID": "sql.html#darba-ar-oracle-sql",
    "href": "sql.html#darba-ar-oracle-sql",
    "title": "SQL EKSĀMENS",
    "section": "Darba ar Oracle SQL",
    "text": "Darba ar Oracle SQL\n\nTabulu izveidošana\nCREATE TABLE Manufacturers ( \n    ManufacturerID NUMBER PRIMARY KEY, \n    ManufacturerName VARCHAR2(100) NOT NULL, \n    ContactInfo VARCHAR2(255) NOT NULL \n);\n\nCREATE TABLE DiscountGroups ( \n    DiscountGroupID NUMBER PRIMARY KEY, \n    DiscountGroupName VARCHAR2(100), \n    DiscountPercentage NUMBER(5, 2) \n);\n\nCREATE TABLE Products ( \n    ProductID NUMBER PRIMARY KEY, \n    ProductName VARCHAR2(100) NOT NULL, \n    SupplierID VARCHAR2(50) NOT NULL,  \n    EAN VARCHAR2(13) NOT NULL UNIQUE, \n    Unit VARCHAR2(20) NOT NULL, \n    ManufacturerID NUMBER NOT NULL,  \n    BasePrice NUMBER(10, 2) NOT NULL, \n    PackageAmount NUMBER NOT NULL, \n    FOREIGN KEY (ManufacturerID) REFERENCES Manufacturers(ManufacturerID) \n);\n\nCREATE TABLE Clients ( \n    ClientID NUMBER PRIMARY KEY, \n    ClientName VARCHAR2(100) NOT NULL, \n    RegistrationNumber VARCHAR2(11) NOT NULL UNIQUE, \n    Address VARCHAR2(255) NOT NULL, \n    DiscountGroupID NUMBER NOT NULL, \n    FOREIGN KEY (DiscountGroupID) REFERENCES DiscountGroups(DiscountGroupID) \n);\n\nCREATE TABLE Orders ( \n    OrderID NUMBER PRIMARY KEY, \n    ClientID NUMBER NOT NULL, \n    OrderDate DATE NOT NULL, \n    TotalAmount NUMBER(10, 2) NOT NULL, \nFOREIGN KEY (ClientID) REFERENCES Clients(ClientID) \n);\n\nCREATE TABLE OrderDetails ( \n    OrderDetailID NUMBER PRIMARY KEY, \n    OrderID NUMBER NOT NULL, \n    ProductID NUMBER NOT NULL, \n    Quantity NUMBER NOT NULL, \n    UnitPrice NUMBER(10, 2) NOT NULL, \n    FOREIGN KEY (OrderID) REFERENCES Orders(OrderID), \n    FOREIGN KEY (ProductID) REFERENCES Products(ProductID) \n);\n\n\n\nTabulu aizpildīšana\nINSERT INTO Manufacturers VALUES (101, 'Elektronika Ltd.', 'info@elektronika.com');\nINSERT INTO Manufacturers VALUES (102, 'Kabeļu Risinājumi', 'contact@kabris.lv');\nINSERT INTO Manufacturers VALUES (103, 'Drošības Sistēmas', 'support@drosiba.lv');\nINSERT INTO Manufacturers VALUES (104, 'BalticTech Solutions', 'sales@baltictech.lv');\nINSERT INTO Manufacturers VALUES (105, 'ElektroSmart', 'info@elektrosmart.com');\nINSERT INTO Manufacturers VALUES (106, 'SafeWire Systems', 'contact@safewire.lv');\n\nINSERT INTO DiscountGroups VALUES (1, 'Klients C', 5.00);\nINSERT INTO DiscountGroups VALUES (2, 'Klients B', 10.00);\nINSERT INTO DiscountGroups VALUES (3, 'Klients A', 15.00);\nINSERT INTO DiscountGroups VALUES (4, 'Klients D', 3.00);\nINSERT INTO DiscountGroups VALUES (5, 'Klients E', 7.50);\n\nINSERT INTO Clients VALUES (1, 'Tesco SIA', '12345678910', 'Pilsētas iela 10', 1);\nINSERT INTO Clients VALUES (2, 'Walmarts SIA', '23456789012', 'Dārza iela 15', 2);\nINSERT INTO Clients VALUES (3, 'Kaprs SIA', '34567890123', 'Rīgas iela 50', 3);\nINSERT INTO Clients VALUES (4, 'RISBEA SIA', '09876543211', 'Ostas iela 25', 2);\nINSERT INTO Clients VALUES (5, 'LULA SIA', '01928374651', 'Mazā iela 5', 1);\nINSERT INTO Clients VALUES (6, 'Maxima SIA', '45678901234', 'Liepājas prospekts 7', 4);\nINSERT INTO Clients VALUES (7, 'Elko Grupa', '56789012345', 'Ganību dambis 22', 5);\nINSERT INTO Clients VALUES (8, 'Rimi Latvia', '67890123456', 'Ulmaņa gatve 101', 3);\nINSERT INTO Clients VALUES (9, 'Prisma SIA', '78901234567', 'Brīvības bulvāris 12', 2);\nINSERT INTO Clients VALUES (10, 'Elektro Serviss', '89012345678', 'Maskavas iela 246', 5);\n\nINSERT INTO Products VALUES (1, 'Elektrības kabelis 3x1.5mm', 'CAB101', '12345678901', 'm', 101, 0.85, 100);\nINSERT INTO Products VALUES (2, 'Elektrības kabelis 3x2.5mm', 'CAB102', '23456789012', 'm', 101, 1.20, 100);\nINSERT INTO Products VALUES (3, 'Sadalne kārba 100x100mm', 'FE10', '34567890123', 'gb', 102, 3.50, 1);\nINSERT INTO Products VALUES (4, 'PVC truba 16mm', 'PIPE301', 'RLM16p', 'm', 102, 0.75, 50);\nINSERT INTO Products VALUES (5, 'Vadu savienojuma skava', 'u-16', '56789012345', 'gb', 103, 0.10, 100);\nINSERT INTO Products VALUES (6, 'Drošinātājs 16A', '16A2', '67890123456', 'gb', 103, 1.25, 10);\nINSERT INTO Products VALUES (7, 'Vadu marķieris', 'a123', '78901234567', 'gb', 103, 0.50, 50);\n\nINSERT INTO Orders VALUES (1001, 1, TO_DATE('2024-11-01', 'YYYY-MM-DD'), 125.00);\nINSERT INTO Orders VALUES (1002, 1, TO_DATE('2024-11-02', 'YYYY-MM-DD'), 75.00);\nINSERT INTO Orders VALUES (1003, 3, TO_DATE('2024-11-03', 'YYYY-MM-DD'), 250.00);\nINSERT INTO Orders VALUES (1004, 5, TO_DATE('2024-11-04', 'YYYY-MM-DD'), 90.00);\nINSERT INTO Orders VALUES (1005, 2, TO_DATE('2024-11-05', 'YYYY-MM-DD'), 180.00);\nINSERT INTO Orders VALUES (1006, 6, TO_DATE('2024-11-06', 'YYYY-MM-DD'), 220.00);\nINSERT INTO Orders VALUES (1007, 8, TO_DATE('2024-11-07', 'YYYY-MM-DD'), 95.50);\nINSERT INTO Orders VALUES (1008, 9, TO_DATE('2024-11-08', 'YYYY-MM-DD'), 150.75);\nINSERT INTO Orders VALUES (1009, 7, TO_DATE('2024-11-09', 'YYYY-MM-DD'), 300.00);\nINSERT INTO Orders VALUES (1010, 10, TO_DATE('2024-11-10', 'YYYY-MM-DD'), 120.50);\n\nINSERT INTO OrderDetails VALUES (2001, 1001, 1, 100, 0.85);\nINSERT INTO OrderDetails VALUES (2002, 1001, 3, 5, 3.50);\nINSERT INTO OrderDetails VALUES (2003, 1002, 2, 50, 1.20);\nINSERT INTO OrderDetails VALUES (2004, 1003, 4, 100, 0.75);\nINSERT INTO OrderDetails VALUES (2005, 1004, 6, 10, 1.25);\nINSERT INTO OrderDetails VALUES (2006, 1004, 7, 20, 0.50);\nINSERT INTO OrderDetails VALUES (2007, 1005, 2, 100, 1.20);\nINSERT INTO OrderDetails VALUES (2008, 1005, 5, 50, 0.10);\nINSERT INTO OrderDetails VALUES (2009, 1006, 9, 20, 1.75);\nINSERT INTO OrderDetails VALUES (2010, 1006, 10, 15, 2.25);\nINSERT INTO OrderDetails VALUES (2011, 1007, 8, 30, 2.50);\nINSERT INTO OrderDetails VALUES (2012, 1008, 11, 10, 3.00);\nINSERT INTO OrderDetails VALUES (2013, 1008, 12, 50, 1.10);\nINSERT INTO OrderDetails VALUES (2014, 1009, 1, 150, 0.85);\nINSERT INTO OrderDetails VALUES (2015, 1009, 3, 10, 3.50);\nINSERT INTO OrderDetails VALUES (2016, 1009, 5, 75, 0.10);\nINSERT INTO OrderDetails VALUES (2017, 1010, 6, 15, 1.25);\nINSERT INTO OrderDetails VALUES (2018, 1010, 7, 25, 0.50);\nINSERT INTO OrderDetails VALUES (2019, 1010, 9, 10, 1.75);\nINSERT INTO OrderDetails VALUES (2020, 1010, 12, 40, 1.10);\n\n\n\nPamata vaicājumi\n-- Atjaunina produkta cenu\nUPDATE Products  \nSET BasePrice = 2.25  \nWHERE ProductID = 4;\n\n-- Pievieno jaunu klientu\nINSERT INTO Clients VALUES (11, 'Baltijas Energo', '55544433322', 'Brīvības gatve 77', 2);\n\n-- Dzēš klientu no tabulas Clients\nDELETE FROM Clients \nWHERE ClientID = 11;\n\n-- Atlasa visas rindas no tabulas \"OrderDetails\", kurām ProductID ir 6\nSELECT * \nFROM OrderDetails  \nWHERE ProductID = 6;\n\n-- Atlasa produkta ar ID 11 bāzes cenu no tabulas \"Products\"\nSELECT BasePrice \nFROM Products  \nWHERE ProductID = 5;\n\n-- Pievieno jaunu kolonnu \nALTER TABLE OrderDetails \nADD DiscountAmount NUMBER(10, 2);\n\n-- Noņem kolonnu \"DiscountAmount\" no tabulas \"OrderDetails\"\nALTER TABLE OrderDetails \nDROP COLUMN DiscountAmount;\n\n\n\nVienkārša vaicājumi\n\nAtlasa ražotāju ID, nosaukumu un kontaktinformāciju no tabulas “Manufacturers”\n\nSELECT ManufacturerID, ManufacturerName, ContactInfo \nFROM Manufacturers;\n\n\nAtlasa klientu ID, vārdu un reģistrācijas numuru no tabulas “Clients”, kuri pieder atlaižu grupai ar ID 2\n\nSELECT ClientID, ClientName, RegistrationNumber \nFROM Clients \nWHERE DiscountGroupID = 2;\n\n\nAtlasa produktu nosaukumu, bāzes cenu un mērvienību no tabulas “Products” un sakārto rezultātus pēc cenas dilstošā secībā\n\nSELECT ProductName, BasePrice, Unit \nFROM Products \nORDER BY BasePrice DESC;\n\n\nAtlasa klientu vārdus no tabulas “Clients”, kuriem vārda garums (simbolu skaits) ir tieši 10\n\nSELECT ClientName \nFROM Clients \nWHERE LENGTH(ClientName) = 10;\n\n\nAprēķina visu pasūtījumu kopējo summu\n\nSELECT SUM(TotalAmount) AS KopējaSumma \nFROM Orders;\n\n\nIzvada pasūtījumus, kas veikti 2024. gada novembrī\n\nSELECT * \nFROM Orders \nWHERE OrderDate BETWEEN TO_DATE('2024-11-01', 'YYYY-MM-DD') AND TO_DATE('2024-11-30', 'YYYY-MM-DD');\n\n\nAprēķina kopējo cenu katrai pasūtījuma detaļai\n\nSELECT \n    OrderDetailID, \n    OrderID, \n    ProductID, \n    Quantity, \n    UnitPrice, \n    (Quantity * UnitPrice) AS KopējāCena \nFROM OrderDetails;\n\n\n\n\nVidējas sarežģītības vaicājumi\n\nAtlasa produktu nosaukumus, ražotāju nosaukumus un bāzes cenas, kur bāzes cena ir mazāka par 1.00\n\nSELECT  \n    p.ProductName,  \n    m.ManufacturerName,  \n    p.BasePrice \nFROM Products p \nJOIN Manufacturers m ON p.ManufacturerID = m.ManufacturerID \nWHERE p.BasePrice &lt; 1.00;\n\n\nAtlasa produktus ar informāciju, kur ražotāja nosaukums satur vārdu “Elektronika”\n\nSELECT ProductID, ProductName, BasePrice, Unit  \nFROM Products p  \nJOIN Manufacturers m ON p.ManufacturerID = m.ManufacturerID  \nWHERE m.ManufacturerName LIKE '%Elektronika%';\n\n\nAtlasa klientus un viņu veikto pasūtījumu skaitu, sakārtotus pēc pasūtījumu skaita dilstošā secībā\n\nSELECT c.ClientName, COUNT(o.OrderID) AS PasutijumuSkaits \nFROM Clients c \nLEFT JOIN Orders o ON c.ClientID = o.ClientID \nGROUP BY c.ClientName \nORDER BY PasutijumuSkaits DESC;\n\n\nAtlasa pasūtījumus, klientus un pasūtījuma datumu, kur pasūtījuma summa ir lielāka par 100, sakārtotus dilstošā secībā pēc summas\n\nSELECT o.OrderID, c.ClientName, o.OrderDate, o.TotalAmount \nFROM Orders o \nJOIN Clients c ON o.ClientID = c.ClientID \nWHERE o.TotalAmount &gt; 100 \nORDER BY o.TotalAmount DESC;\n\n\nAtlasa pasūtījumu detaļas ar produktu nosaukumiem, kas satur vārdu “kabelis”\n\nSELECT o.OrderID, p.ProductName, od.Quantity  \nFROM OrderDetails od  \nJOIN Products p ON od.ProductID = p.ProductID  \nJOIN Orders o ON od.OrderID = o.OrderID  \nWHERE p.ProductName LIKE '%kabelis%';\n\n\nAtlasa klientu vārdus un atbilstošās atlaižu grupas\n\nSELECT c.ClientName AS Klients, d.DiscountGroupName AS AtlaižuGrupa \nFROM Clients c\nJOIN DiscountGroups d \nON c.DiscountGroupID = d.DiscountGroupID;\n\n\nAtlasa unikālos ražotāju nosaukumus no produktiem\n\nSELECT DISTINCT m.ManufacturerName  \nFROM Manufacturers m \nJOIN Products p  ON m.ManufacturerID = p.ManufacturerID;\n\n\n\n\nPaaugstinātas sarežģītības vaicājumi\n\n1. Rangs un blīvais rangs klientiem pēc pasūtījuma summas atlaižu grupās\nSELECT ProductID, ProductName,  ManufacturerID,  BasePrice, \n    RANK() OVER (PARTITION BY ManufacturerID ORDER BY BasePrice DESC) AS PriceRank -- Produkta cenas rangs katra ražotāja ietvaros\nFROM \n    Products\n\nDarbības un paskaidrojumi\nPARTITION BY ManufacturerID: Nodrošina, ka rangs tiek aprēķināts atsevišķi katram ražotājam.\nORDER BY BasePrice DESC: Nodrošina, ka augstāka cena iegūst zemāku rangu.\nRANK(): Ja produktiem ir vienāda cena, tiem tiek piešķirts vienāds rangs, bet nākamais produkts saņem nākamo rangu.\n\n\nKlienti ar pasūtījumu kopējo summu un vidējo summu\n\n-- Izvēlas klienta ID, vārdu un vidējo pasūtījumu summu\nSELECT \n    c.ClientID, \n    c.ClientName, \n    AVG(o.TotalAmount) AS AverageOrder \nFROM \n    Clients c \nJOIN \n    Orders o ON c.ClientID = o.ClientID \nGROUP BY \n    c.ClientID, c.ClientName \nHAVING \n    AVG(o.TotalAmount) &gt; 100; \n\nDarbības un paskaidrojumi\nAVG (o.TotalAmount) AS AverageOrder: Rezultātā attēlos pasūtījuma vidējos apjomus.\nHAVING AVG(o.TotalAmount) &gt; 100 : Apakšnosacījums, lai parāda tikai no pasūtījumiem, kuriem apjoms virs 100 eiro\n\n\nKlienti ar pasūtījumu kopējo summu un vidējo summu\n\nSELECT \n    ProductID,\n    ProductName, \n    BasePrice\nFROM \n    Products\nWHERE \n    BasePrice &gt; (SELECT AVG(BasePrice) FROM Products); -- Filtrē produktus ar cenu virs vidējās\n\nDarbības un paskaidrojumi\nBasePrice &gt; (SELECT AVG(BasePrice) FROM Products) : Attēlo vienīgi tos produktus, kuri izpilda salīdzinājumu starp individuālā produkta cenu un apakšvaicājuma rezultātā iegūto visu produktu vidējo cenu\n\n\nKlienti, kuru vidējā pasūtījuma summa ir augstāka par visiem klientiem kopumā\n\nSELECT \n    c.ClientID, \n    c.ClientName, \n    AVG(o.TotalAmount) AS AverageOrder -- Vidējā pasūtījuma summa\nFROM \n    Clients c \nJOIN \n    Orders o ON c.ClientID = o.ClientID \nGROUP BY \n    c.ClientID, c.ClientName\nHAVING \n    AVG(o.TotalAmount) &gt; (\n        -- Apakšvaicājums, kas aprēķina vidējo pasūtījumu summu visiem klientiem\n        SELECT \n            AVG(TotalAmount) \n        FROM \n            Orders\n    );\n\nDarbības un paskaidrojumi\nGROUP BY c.ClientID, c.ClientName : Nepieciešams AVG funkciju izpildīšanai.\nHAVING : Izveido papildus nosacījumus datu filtrēšanai\n( SELECT AVG(TotalAmount) FROM Orders ) : Apakšvaicājums salīdzināšanai\n\n\nProduktu vērtības salīdzinājums ražotāju griezumā\n\nSELECT \n    ProductID,\n    ManufacturerID,\n    BasePrice,\n    RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Rank,\n    DENSE_RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Dense_Rank\nFROM \n    Products\nWHERE \n    ManufacturerID IN (101, 102)\nUNION\nSELECT \n    ProductID,\n    ManufacturerID,\n    BasePrice,\n    RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Rank,\n    DENSE_RANK() OVER (\n        PARTITION BY ManufacturerID \n        ORDER BY BasePrice DESC NULLS LAST\n    ) AS Total_Value_Dense_Rank\nFROM \n    Products\nWHERE \n    ManufacturerID IN (103, 104)\n    AND BasePrice &gt; 1.00;\n\nDarbības un paskaidrojumi\nRANK() OVER (\n    PARTITION BY ManufacturerID \n    ORDER BY BasePrice DESC NULLS LAST\n) AS Total_Value_Rank\nRANK(): Piešķir rangu katrai vērtībai\nOVER (): Definē window (datu loga) parametrus\nPARTITION BY: Sadala datus grupās vadoties pēc ManufacturerID\nORDER BY: Nosaka ranžēšanas kārtību, pamatojoties uz BasePrice\nNULLS LAST: Nulles vērtības novieto saraksta beigās\n\n\nJa mums ir produkti no ražotāja 101:\n\nProdukts A: Cena 3.50 → Rank 1\nProdukts B: Cena 3.50 → Rank 1\nProdukts C: Cena 2.00 → Rank 3\n\n\n\nSELECT ... WHERE ManufacturerID IN (101, 102)\nUNION\nSELECT ... WHERE ManufacturerID IN (103, 104)\nApvieno divu SELECT rezultātus. Izņem dublētās rindas. Ļauj kombinēt dažādus meklēšanas nosacījumus"
  },
  {
    "objectID": "R-MD4.html",
    "href": "R-MD4.html",
    "title": "R Language Basics: Homework 4",
    "section": "",
    "text": "1. (1 point) Create a function that takes a vector as an input, and returns a data frame with min, mean, median and max value.\n\n\nf &lt;- function(x){\n  df &lt;- data.frame(\n    mean = round(mean(x),3),\n    median = median(x),\n    maximum = max(x),\n    minimum = min(x)\n  )\n  return(df)\n}\nvec &lt;- c(1,5,6,8,14,6,3)\nkbl(f(vec))\n\n\n\n\nmean\nmedian\nmaximum\nminimum\n\n\n\n\n6.143\n6\n14\n1\n\n\n\n\n\n\n\n\n\nCreate a function that takes a string and a number n as an input. Function must return n−th symbol of the string. If n is less than 1, function should give an error message stating that; if n is greater than number of symbols in the string, function should return the last symbol.\n\n\n# definējam ievadāmos mainīgos\nTeksts &lt;- \"MansTeksts\"\n# funkcijas inicializācija\nf &lt;- function(n,s){\n    # iegūstām string garumus\n  s_lenght &lt;- nchar(s)\n  # pārbaudām vai n nav mazāks vai vienāds ar 1\n  if(n&lt;=1){\n    print(\"N nevar būt mazāks vai vienāds ar 1\")\n    n &lt;- 1\n  }\n  # pārbaudām vai n nav ārpus s garuma\n  if ( n &gt; s_lenght ){\n    print(\"N nevar būt lielāks par kopējo teksta garumua\")\n    return()\n  }\n\n  # iegustam n-th stringa simbolu\n  return (substr(s, n,n))\n  \n}\n\nf(1,Teksts)\n\n[1] \"N nevar būt mazāks vai vienāds ar 1\"\n\n\n[1] \"M\"\n\nf(5,Teksts)\n\n[1] \"T\"\n\nf(20,Teksts)\n\n[1] \"N nevar būt lielāks par kopējo teksta garumua\"\n\n\nNULL\n\n\n\n\n(2 points) Create a function with input arguments J and K. The function should calculate:\n\\[ X =\\sum_{j=1}^{J}\\sum_{k=1}^{K}\\frac{k^2 \\times j^5}{K^2} \\]\nIf any argument is missing in a function call, it must be replaced with number 5; if any argument in a function call is not strictly positive or is not a number, terminate the function and give an error messag\n\n\nmath &lt;- function(j,k){\n  # Pārbaudām vai ir trūkstošas vērtības.\n  if(missing(j)){j=5}\n  if(missing(k)){k=5}\n  if(j&lt;1 | k&lt;1 | is.character(j) == TRUE| is.character(k)==TRUE){\n  # sakarā ar to, ka STOP funkcija apstādina koda kompilāciju\n  # tā apstādina .qmd renderu. Tāpēc pārveidoju par warning()\n     # stop(\"EROR\")\n    warning(\"ERROR IR INPUT\")\n    \n    if(is.character(j)==TRUE){j=3}\n    if(is.character(k)==TRUE){k=3}\n  }\n\n#nepareizi, neapreizs matemātiskais pamatojums\n#result &lt;- (sum(1:j))*(sum(1:k))*(k^2*j^5)/(sum(1:k)^2)\n\n\n#`pareizs rezultāts\n# for (j in 1:J){\n#  for (k in 1:K){\n#    sub &lt;- (k**2 * j)/ (5 + K**2)\n# x &lt;- x + sub\n# }\n# }\n# paste(\"Result of equation is X=\",result)  \n  \n}\nmath(75 ,5)  \nmath(,3)\nmath(3,)\nmath(\"asr\",5)\n\nWarning in math(\"asr\", 5): ERROR IR INPUT\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Kirils Volobujevs",
    "section": "",
    "text": "RISEBA Studiju darbu prezentēšana\n\n\n\n\n Back to top"
  },
  {
    "objectID": "LRKPM.html",
    "href": "LRKPM.html",
    "title": "Lineārā",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\"\n\n\n\n\n\n\nPārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai.\n\n\n\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "LRKPM.html#sākotnējie-dati",
    "href": "LRKPM.html#sākotnējie-dati",
    "title": "Lineārā",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\n\n\n\n\n\n\n\n\n\nGads\nIzmaksas\n\n\n\n\n2005\n2.19\n\n\n2006\n2.75\n\n\n2007\n3.53\n\n\n2008\n4.38\n\n\n2009\n4.28\n\n\n2010\n4.14\n\n\n2011\n4.34\n\n\n2012\n4.45\n\n\n2013\n4.78\n\n\n2014\n5.23\n\n\n2015\n5.83\n\n\n2016\n6.23\n\n\n2017\n6.65\n\n\n2018\n7.58\n\n\n2019\n8.11\n\n\n2020\n8.60\n\n\n2021\n8.75\n\n\n2022\n9.48\n\n\n2023\n10.48\n\n\n\n\n\n \n\n\n\n\n\n\n\n[1] \"Vidējā alga : 5.883 eiro/st\"\n\n\n \n\n\n[1] \"Standartnovirze: 2.371\""
  },
  {
    "objectID": "LRKPM.html#trendu-izpēte",
    "href": "LRKPM.html#trendu-izpēte",
    "title": "Lineārā",
    "section": "",
    "text": "Pārbaudot visus lineārās regresijas modeļus, ir jāsaprot, cik labi modelis atbilst datiem – jo lielāks ir determinācijas koeficients (R²), jo labāk regresijas modelis atbilst tālākajai analīzei.\n\n\n\n\n\nModelis\nFormula\nR²\n\n\n\n\nLineārais\ny = -823.6 + 0.41*x\n0.96\n\n\nLogaritmiskais\ny = -6303.54 + 829.33*log(x)\n0.96\n\n\nEksponenciālais\ny = exp(-147.28 + 0.07*x)\n0.95\n\n\nPakāpes\ny = exp(-1131.69 + 148.97*log(x))\n0.95\n\n\n\n\n\nKā mēs neredzam būtisku atšķirību starp lineārā un logaritmiskā modeļa determinācijas koeficientiem, es izvēlējos lineāro modeli tālākai prognozēšanai."
  },
  {
    "objectID": "LRKPM.html#prognozes-veidošana",
    "href": "LRKPM.html#prognozes-veidošana",
    "title": "Lineārā",
    "section": "",
    "text": "Prognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\n\n\n\nGads\nIzmaksas\nDatu tips\nPrognoze\nLCL\nUCL\n\n\n\n\n2005\n2.19\nVēsturiskie\nNA\nNA\nNA\n\n\n2006\n2.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2007\n3.53\nVēsturiskie\nNA\nNA\nNA\n\n\n2008\n4.38\nVēsturiskie\nNA\nNA\nNA\n\n\n2009\n4.28\nVēsturiskie\nNA\nNA\nNA\n\n\n2010\n4.14\nVēsturiskie\nNA\nNA\nNA\n\n\n2011\n4.34\nVēsturiskie\nNA\nNA\nNA\n\n\n2012\n4.45\nVēsturiskie\nNA\nNA\nNA\n\n\n2013\n4.78\nVēsturiskie\nNA\nNA\nNA\n\n\n2014\n5.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2015\n5.83\nVēsturiskie\nNA\nNA\nNA\n\n\n2016\n6.23\nVēsturiskie\nNA\nNA\nNA\n\n\n2017\n6.65\nVēsturiskie\nNA\nNA\nNA\n\n\n2018\n7.58\nVēsturiskie\nNA\nNA\nNA\n\n\n2019\n8.11\nVēsturiskie\nNA\nNA\nNA\n\n\n2020\n8.60\nVēsturiskie\nNA\nNA\nNA\n\n\n2021\n8.75\nVēsturiskie\nNA\nNA\nNA\n\n\n2022\n9.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2023\n10.48\nVēsturiskie\nNA\nNA\nNA\n\n\n2024\nNA\nPrognoze\n10.00175\n8.803\n11.201\n\n\n2025\nNA\nPrognoze\n10.41361\n9.197\n11.630\n\n\n2026\nNA\nPrognoze\n10.82547\n9.589\n12.061\n\n\n2027\nNA\nPrognoze\n11.23733\n9.981\n12.494\n\n\n2028\nNA\nPrognoze\n11.64919\n10.371\n12.928\n\n\n\n\n\n[1] \"MAPE: 115.975612\""
  },
  {
    "objectID": "LRKPM.html#prognozes-vizualizēšana",
    "href": "LRKPM.html#prognozes-vizualizēšana",
    "title": "Lineārā",
    "section": "",
    "text": "Lineārā modeļa formula: y = -823.60 + 0.41 * x\n\n\nR-squared: 0.956"
  },
  {
    "objectID": "regr.html",
    "href": "regr.html",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Autors : Kirils Volobujevs\n\n\nVienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPrognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  },
  {
    "objectID": "regr.html#sākotnējie-dati",
    "href": "regr.html#sākotnējie-dati",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Vienas stundas darbaspēka izmaksas pa darbības veidiem (eiro) 2005 - 2023\nIekšzemes kopprodukts pavisam, uz vienu iedzīvotāju un uz vienu nodarbināto 1995 - 2023\n\n\nCode\n# Ielādējam nepieciešamās bibliotēkas\nlibrary(stats)\nlibrary(forecast)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(patchwork) \nlibrary(hrbrthemes)\nlibrary(dygraphs)\nlibrary(xts)\nlibrary(zoo)\n\n\n# Ielādējam nepieciešamos datus\ndi &lt;- data.frame(\n  year = 2014:2023,\n  di_value = c(5.23, 5.83, 6.23, 6.65, 7.58, 8.11, 8.60, 8.75, 9.48, 10.48)\n)\n\nikp &lt;- data.frame(\n  year = 2014:2023,\n  ikp_value = c(22791, 23744, 24498, 26017, 28153, 29567, 29224, 32285, 36104, 39072)\n)\n\n# Apvienojam tabulas vadities pēc gada\nmerged_data &lt;- merge(di, ikp, by = \"year\")\n# Kombinētā grafika koeficients\ncoeff &lt;- 3500\n\n\n\n\nCode\n# 1. Aprakstošā statistika\n# tabulas vizualizācijas\nmerged_data %&gt;%\n  kbl(\n    caption = paste0(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\"),\n    col.names = c(\"Gads\", \"Darba izmaksas\", \"IKP\")\n  ) %&gt;%\n  kable_styling() \n\n\n\nDarbaspēka izmaksas un IKP vērtības pēc gadiem\n\n\nGads\nDarba izmaksas\nIKP\n\n\n\n\n2014\n5.23\n22791\n\n\n2015\n5.83\n23744\n\n\n2016\n6.23\n24498\n\n\n2017\n6.65\n26017\n\n\n2018\n7.58\n28153\n\n\n2019\n8.11\n29567\n\n\n2020\n8.60\n29224\n\n\n2021\n8.75\n32285\n\n\n2022\n9.48\n36104\n\n\n2023\n10.48\n39072\n\n\n\n\n\n\n\nCode\n# sākotnējais grafiks\nggplot(merged_data, aes(x=year)) + \n  geom_line(aes(y=di_value),color=\"#69b3a2\", size=2 )+\n  geom_line(aes(y=ikp_value/coeff),color=\"grey\", size=2 )+\n              scale_y_continuous(\n                name = \"Darbaspēka izmaksas\",\n                # Add a second axis and specify its features\n               sec.axis = sec_axis(~.*coeff, name=\"IKP\")\n              )+\n    theme_ipsum() +\n    theme(\n    axis.title.y = element_text(color = \"#69b3a2\", size=13),\n    axis.title.y.right = element_text(color = \"grey\", size=13)\n  ) +\n  ggtitle(\"Darbaspēka izmaksas un IKP vērtības pēc gadiem\")+\n  labs(caption = paste0(\"IKP tiek attēlots mērogā 1:\", coeff))"
  },
  {
    "objectID": "regr.html#datu-analīze",
    "href": "regr.html#datu-analīze",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Code\n# Korelācijas aprēķins un attēlošana\ncorrelation_result &lt;- cor(merged_data$di_value, merged_data$ikp_value)\ncat(\"Korelācijas koeficiets : \",round(correlation_result,3))\n\n\nKorelācijas koeficiets :  0.972\n\n\nCode\nscatter_plot &lt;- ggplot(merged_data, aes(x = ikp_value, y = di_value)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\") +\n  labs(\n    title = \"DI Value vs IKP Value\",\n    x = \"IKP Value\",\n    y = \"DI Value\",\n    caption = paste(\"Correlation:\", round(correlation_result, 3))\n  ) +\n  theme_minimal()\nprint(scatter_plot)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRegresijas modeļa analīze:\n\n\n------------------------\n\n\nAtakarīgais mainīgais: Darba izmaksas\n\n\nNeotkarīgais mainīgais: IKP\n\n\n------------------------\n\n\nKoeficienti:\n\n\nIntercept: -1.2609 (p-value: 0.141 )\n\n\nSlope: 3e-04 (p-value: 0 )\n\n\n------------------------\n\n\nModel Fit:\n\n\nR-squared: 0.9455 \n\n\nAdjusted R-squared: 0.9387 \n\n\nF-statistic: 138.7025 on 1 and 8 DF\n\n\np-value: 0 \n\n\n\n\n\n\n\nCode\n# ANOVA \nanova_result &lt;- anova(regression_model)\ncat(\"ANOVA rezultāts darba izmaksu un IKP regresijai:\")\n\n\nANOVA rezultāts darba izmaksu un IKP regresijai:\n\n\nCode\nanova_result\n\n\nAnalysis of Variance Table\n\nResponse: di_value\n          Df  Sum Sq Mean Sq F value    Pr(&gt;F)    \nikp_value  1 24.4428 24.4428   138.7 2.473e-06 ***\nResiduals  8  1.4098  0.1762                      \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCode\n# Normal Probability Plot\nggplot(data = data.frame(residuals = rstandard(regression_model)), aes(sample = residuals)) +\n  stat_qq() +\n  stat_qq_line(color = \"red\") +\n  labs(title = \"Normal Probability Plot\")\n# Density Plot for DI vlues\n  ggplot(merged_data, aes(x = di_value)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  labs(title = \"Probability Density of DI\", x = \"IKP Value\", y = \"Density\") +\n  theme_minimal()"
  },
  {
    "objectID": "regr.html#prognozes-veidošana",
    "href": "regr.html#prognozes-veidošana",
    "title": "LR prognozēšanu ar regresijas modeļiem",
    "section": "",
    "text": "Prognozes veidošanai tiek izveidotas izmantot regresijas modelis un prognozētās IKP vērtības]\nPrognozēšanas intervāls ir konservatīvi - 5 gadi.\n\n\nCode\n# IKP lineārā prognozēšana\nfuture_years &lt;- data.frame(year = 2024:2028)\nikp_model &lt;- lm(ikp_value ~ year, data = ikp)\nfuture_ikp_values &lt;- predict(ikp_model, newdata = future_years, interval = \"confidence\")\n\n# Inicializējam prognozes tabulu\nfuture_data &lt;- data.frame(\n  year = future_years$year,\n  ikp_value = future_ikp_values[, \"fit\"],   # Predicted ikp values\n  Lower_CI_IKP = future_ikp_values[, \"lwr\"],    # Lower confidence interval\n  Upper_CI_IKP = future_ikp_values[, \"upr\"]     # Upper confidence interval\n)\n\n# Izmantojot regresijas modeli, prognozējam DI vērtības\nforecast &lt;- predict(regression_model, newdata = future_data, interval = \"confidence\")\n\n# Apvienojam prognozes tabulu ar prognozi\nforecast_results &lt;- cbind(future_data, forecast)\n\n# Aizpildām prognozes tabulu\nforecast_df &lt;- data.frame(\n  Year = c(ikp$year, future_data$year),\n  Forecast = c(di$di_value, forecast_results[, \"fit\"]),\n  Lower_CI = c(rep(NA, nrow(di)), forecast_results[, \"lwr\"]),\n  Upper_CI = c(rep(NA, nrow(di)), forecast_results[, \"upr\"]),\n  IKP_Value = c(ikp$ikp_value, future_data$ikp_value),\n  IKP_Lower_CI = c(rep(NA, nrow(di)), future_data$Lower_CI_IKP),\n  IKP_Upper_CI = c(rep(NA, nrow(di)), future_data$Upper_CI_IKP)\n)\n\n\n# Vizualizējam tabulu\nforecast_df %&gt;%\n  kbl(\n    caption = \"Darbaspēka izmaksas prognoze ar lineārās regresijas modeli\", \n    col.names = c(\"Gads\", \"DI Prognoze\", \"DI LCL\", \"DI UCL\", \"IKP\", \"IKP LCL\", \"IKP UCL\"),\n    format.args = list(decimal.mark = \",\", big.mark = \" \"),\n    digits = 2\n  ) %&gt;%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\", \"responsive\"),\n    full_width = FALSE,\n    position = \"center\"\n  ) %&gt;%\n  row_spec(0, bold = TRUE, color = \"white\", background = \"#4E79A7\") %&gt;%\n  column_spec(1, bold = TRUE) %&gt;%\n  add_header_above(\n    c(\" \" = 1, \"Darbaspēka izmaksas\" = 3, \"IKP\" = 3)\n  )\n\n\n\n\nDarbaspēka izmaksas prognoze ar lineārās regresijas modeli\n\n\n\n\n\n\n\n\n\n\n\n\n\nDarbaspēka izmaksas\n\n\nIKP\n\n\n\nGads\nDI Prognoze\nDI LCL\nDI UCL\nIKP\nIKP LCL\nIKP UCL\n\n\n\n\n2 014\n5,23\nNA\nNA\n22 791,00\nNA\nNA\n\n\n2 015\n5,83\nNA\nNA\n23 744,00\nNA\nNA\n\n\n2 016\n6,23\nNA\nNA\n24 498,00\nNA\nNA\n\n\n2 017\n6,65\nNA\nNA\n26 017,00\nNA\nNA\n\n\n2 018\n7,58\nNA\nNA\n28 153,00\nNA\nNA\n\n\n2 019\n8,11\nNA\nNA\n29 567,00\nNA\nNA\n\n\n2 020\n8,60\nNA\nNA\n29 224,00\nNA\nNA\n\n\n2 021\n8,75\nNA\nNA\n32 285,00\nNA\nNA\n\n\n2 022\n9,48\nNA\nNA\n36 104,00\nNA\nNA\n\n\n2 023\n10,48\nNA\nNA\n39 072,00\nNA\nNA\n\n\n2 024\n10,59\n9,95\n11,24\n38 579,47\n36 337,94\n40 820,99\n\n\n2 025\n11,12\n10,38\n11,86\n40 294,73\n37 727,54\n42 861,93\n\n\n2 026\n11,65\n10,81\n12,48\n42 010,00\n39 108,70\n44 911,30\n\n\n2 027\n12,17\n11,24\n13,10\n43 725,27\n40 484,03\n46 966,51\n\n\n2 028\n12,70\n11,67\n13,73\n45 440,53\n41 855,19\n49 025,88\n\n\n\n\n\n\n\n\n\n\nCode\n# Prognozes vizualizācija funkcijas izveidošana\nplot_forecast &lt;- function(forecast_df) {\n  # Atdalām vēstures un prognozes datus\n  historical_data &lt;- forecast_df %&gt;% filter(is.na(Lower_CI))\n  future_data &lt;- forecast_df %&gt;% filter(!is.na(Lower_CI))\n  \n \n  ggplot() +\n    # Attēlojam vēsturiskos datus\n    geom_point(data = historical_data, \n               aes(x = Year, y = Forecast), \n               color = \"blue\", \n               size = 3) +\n    \n    # Punkti prognozes\n    geom_point(data = future_data, \n               aes(x = Year, y = Forecast), \n               color = \"red\", \n               size = 3) +\n    \n    # prognozes līnija\n    geom_line(data = forecast_df, \n              aes(x = Year, y = Forecast), \n              color = \"red\", \n              linetype = \"dashed\") +\n    \n    # Ticamības intervāls\n    geom_ribbon(data = future_data, \n                aes(x = Year, ymin = Lower_CI, ymax = Upper_CI), \n                alpha = 0.2, \n                fill = \"red\") +\n    \n    # Pievienojam labelus un leģendu\n    labs(\n      title = \"Darba izmaksu prognoze\",\n      x = \"Gads\",\n      y = \"Prognoze\",\n      caption = \"Zilie punkti: vēsturiskie dati\\nSarkanie punkti: Prognozes dati\\nSarkanā lenta: 95% Ticamības intervāls\"\n    ) +\n    \n    theme_minimal() +\n    theme(\n      plot.title = element_text(hjust = 0.5, face = \"bold\"),\n      plot.caption = element_text(hjust = 0, face = \"italic\")\n    )\n}\n\n# Prognozes funkcijas izsaukšana\nforecast_plot &lt;- plot_forecast(forecast_df)\n\n# Grafika vizualizācija\nprint(forecast_plot)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Interatīvā grafika veidošana\nprepare_dygraph_data &lt;- function(forecast_df) {\n  \n  historical_data &lt;- forecast_df[is.na(forecast_df$Lower_CI), ]\n  future_data &lt;- forecast_df[!is.na(forecast_df$Lower_CI), ]\n  \n  \n  full_data &lt;- data.frame(\n    Year = c(historical_data$Year, future_data$Year),\n    Izmaksas = c(historical_data$Forecast, rep(NA, nrow(future_data))),\n    Prognoze = c(rep(NA, nrow(historical_data)), future_data$Forecast),\n    LCL = c(rep(NA, nrow(historical_data)), future_data$Lower_CI),\n    UCL = c(rep(NA, nrow(historical_data)), future_data$Upper_CI)\n  )\n  \n  \n  time_series_data &lt;- xts(\n    x = full_data[, c(\"Izmaksas\", \"Prognoze\", \"LCL\", \"UCL\")], \n    order.by = as.Date(paste0(full_data$Year, \"-01-01\"))\n  )\n  \n \n  dygraph(time_series_data, main = \"Darbaspēka izmaksu vēsturiskie dati un prognoze\") %&gt;%\n    dySeries(\"Izmaksas\", label = \"Vēsturiskie dati\", color = \"#1F77B4\") %&gt;%\n    dySeries(\"Prognoze\", label = \"Prognoze\", color = \"#FF7F0E\", strokePattern = \"dashed\") %&gt;%\n    dySeries(\"LCL\", label = \"Apakšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    dySeries(\"UCL\", label = \"Augšējā ticamības robeža\", color = \"blue\", strokeWidth = 1) %&gt;%\n    \n    \n    dyAxis(\"x\", label = \"Gads\") %&gt;%\n    dyAxis(\"y\", label = \"Izmaksas (eiro/st)\") %&gt;%\n    \n    \n    dyLegend(show = \"always\", hideOnMouseOut = FALSE) %&gt;%\n    dyOptions(\n      fillGraph = FALSE,\n      drawGrid = TRUE\n    ) %&gt;%\n    dyRangeSelector()\n}\n\n\nforecast_dygraph &lt;- prepare_dygraph_data(forecast_df)\n\n\nforecast_dygraph"
  },
  {
    "objectID": "rexam.html",
    "href": "rexam.html",
    "title": "R Language Exam",
    "section": "",
    "text": "# Bibliotēku ielāde ####\n\n# tidayverse datu pakotne\nlibrary(tidyverse)\n# datu iepazīšanās pakotne\nlibrary(skimr)\n# tabulu attēlošanai\nlibrary(kableExtra)\n\n\n\n\n\n# ielādējam datu objektu\ntuesdata &lt;- tidytuesdayR::tt_load('2023-02-07')\n# sadalām objektu pa datuframe\nprices &lt;- tuesdata$big_tech_stock_prices \ncompanies &lt;- tuesdata$big_tech_companies\n\n\n\n\nPirms datu analīzes nepieciešamas izpētīt pieejamos datus un koriģēt tos tālākajam darbam\n\n# Datu analīze ####\n# summary statistics\n\nskim(prices)\n\n\nData summary\n\n\nName\nprices\n\n\nNumber of rows\n45088\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nDate\n1\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\ndate\n0\n1\n2010-01-04\n2023-01-24\n2016-08-09\n3287\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nopen\n0\n1\n89.27\n101.63\n1.08\n25.67\n47.93\n128.66\n6.962800e+02\n▇▂▁▁▁\n\n\nhigh\n0\n1\n90.37\n103.00\n1.11\n25.93\n48.46\n129.85\n7.009900e+02\n▇▂▁▁▁\n\n\nlow\n0\n1\n88.11\n100.12\n1.00\n25.36\n47.47\n127.25\n6.860900e+02\n▇▂▁▁▁\n\n\nclose\n0\n1\n89.27\n101.59\n1.05\n25.66\n47.97\n128.64\n6.916900e+02\n▇▂▁▁▁\n\n\nadj_close\n0\n1\n85.21\n101.00\n1.05\n22.08\n45.38\n113.67\n6.916900e+02\n▇▁▁▁▁\n\n\nvolume\n0\n1\n52978130.54\n93247295.87\n589200.00\n9629425.00\n26463150.00\n58397675.00\n1.880998e+09\n▇▁▁▁▁\n\n\n\n\nskim(companies)\n\n\nData summary\n\n\nName\ncompanies\n\n\nNumber of rows\n14\n\n\nNumber of columns\n2\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\ncompany\n0\n1\n10\n43\n0\n14\n0\n\n\n\n\n\nPieejamas divas tabulas:\n\ncompanies - 2 kolonnas :\n\nstock_symbol - akciju kodi\ncompany - uzņēmuma nosaukumu\n\nprices - 6 kolonnas :\n\ndate - datums\nopen - akcijas vērtība dienas sākumā\nhigh - akcijas dienas augstākā vērtība\nlow - akcijas dienas zemākā vērtība\nclose - akcijas vērtība dienas beigās\nadj_close - slēgšanas cena pēc visu piemērojamo sadalīšanas un dividenžu sadales korekciju veikšanas\nvolume - šajā dienā tirgoto akciju skaits.\n\n\nKopumā tabulas ir nelielas, kolonu zinā, bet kopējais datu apjoms ir ievērojams - 45088 tabulas ieraksti un 0 trūkošo datu.\nTālākai apstrāde vai apvienot šīs tabulas ērtākam darbam\n\n\n\n## Tabulu datu tipu pārveidošana ####\ndata &lt;- prices %&gt;% \n  ## Tabulu apvienošana ####\n  left_join(companies, by = \"stock_symbol\") %&gt;% \n  mutate(\n    # definēja, ka date ir pareizā datu formāta\n    date = as.Date(date, format = \"%Y%m%d\"),\n    # pārveidojam nominālos mainīgos par faktoriem\n    stock_symbol = as.factor(stock_symbol),\n    company = as.factor(company),\n    # pievienojam jaunu kolonu -  dienas atdevi, kur tiek rēķināta katrai rindai\n    dienas_atdeve = round((close - open) / open * 100, 3)\n  ) %&gt;% \n  \n    # pārsaucam tabulas kolonu\n  rename(\n    akcija = stock_symbol,\n    datums = date,\n    atversanas_cena = open,\n    augstaka_cena = high,\n    zemaka_cena = low,\n    slegsanas_cena = close,\n    koregeta_slegsanas_cena = adj_close,\n    akciju_skaits = volume\n  ) %&gt;%\n  # noapaļojam kolonas\n  mutate(\n    atversanas_cena = round(atversanas_cena,3),\n    augstaka_cena = round(augstaka_cena,3),\n    zemaka_cena = round(zemaka_cena,3),\n    slegsanas_cena = round(slegsanas_cena,3)\n  ) %&gt;%  \n  # attēlošanai izvēlamies noteiktās kolonas\n  select(akcija, datums, atversanas_cena, augstaka_cena, zemaka_cena, slegsanas_cena, akciju_skaits, company, dienas_atdeve)\n\n\ndata %&gt;% \n  slice_head(n = 100) %&gt;% \n  kbl() %&gt;% \n  kable_styling(full_width = FALSE) %&gt;%\n  scroll_box(width = \"100%\", height = \"400px\")\n\n\n\n\n\nakcija\ndatums\natversanas_cena\naugstaka_cena\nzemaka_cena\nslegsanas_cena\nakciju_skaits\ncompany\ndienas_atdeve\n\n\n\n\nAAPL\n2010-01-04\n7.622\n7.661\n7.585\n7.643\n493729600\nApple Inc.\n0.272\n\n\nAAPL\n2010-01-05\n7.664\n7.700\n7.616\n7.656\n601904800\nApple Inc.\n-0.103\n\n\nAAPL\n2010-01-06\n7.656\n7.687\n7.527\n7.535\n552160000\nApple Inc.\n-1.591\n\n\nAAPL\n2010-01-07\n7.562\n7.571\n7.466\n7.521\n477131200\nApple Inc.\n-0.553\n\n\nAAPL\n2010-01-08\n7.511\n7.571\n7.466\n7.571\n447610800\nApple Inc.\n0.799\n\n\nAAPL\n2010-01-11\n7.600\n7.607\n7.445\n7.504\n462229600\nApple Inc.\n-1.264\n\n\nAAPL\n2010-01-12\n7.471\n7.492\n7.372\n7.419\n594459600\nApple Inc.\n-0.703\n\n\nAAPL\n2010-01-13\n7.424\n7.533\n7.289\n7.523\n605892000\nApple Inc.\n1.337\n\n\nAAPL\n2010-01-14\n7.504\n7.516\n7.465\n7.480\n432894000\nApple Inc.\n-0.324\n\n\nAAPL\n2010-01-15\n7.533\n7.557\n7.352\n7.355\n594067600\nApple Inc.\n-2.370\n\n\nAAPL\n2010-01-19\n7.440\n7.685\n7.401\n7.680\n730007600\nApple Inc.\n3.221\n\n\nAAPL\n2010-01-20\n7.675\n7.698\n7.482\n7.562\n612152800\nApple Inc.\n-1.480\n\n\nAAPL\n2010-01-21\n7.574\n7.618\n7.400\n7.431\n608154400\nApple Inc.\n-1.891\n\n\nAAPL\n2010-01-22\n7.385\n7.411\n7.041\n7.062\n881767600\nApple Inc.\n-4.367\n\n\nAAPL\n2010-01-25\n7.232\n7.311\n7.150\n7.253\n1065699600\nApple Inc.\n0.277\n\n\nAAPL\n2010-01-26\n7.355\n7.633\n7.235\n7.355\n1867110000\nApple Inc.\n-0.005\n\n\nAAPL\n2010-01-27\n7.388\n7.521\n7.126\n7.424\n1722568400\nApple Inc.\n0.498\n\n\nAAPL\n2010-01-28\n7.319\n7.339\n7.096\n7.117\n1173502400\nApple Inc.\n-2.752\n\n\nAAPL\n2010-01-29\n7.181\n7.221\n6.795\n6.859\n1245952400\nApple Inc.\n-4.486\n\n\nAAPL\n2010-02-01\n6.870\n7.000\n6.832\n6.955\n749876400\nApple Inc.\n1.227\n\n\nAAPL\n2010-02-02\n6.997\n7.011\n6.906\n6.995\n698342400\nApple Inc.\n-0.026\n\n\nAAPL\n2010-02-03\n6.970\n7.150\n6.944\n7.115\n615328000\nApple Inc.\n2.080\n\n\nAAPL\n2010-02-04\n7.026\n7.085\n6.842\n6.859\n757652000\nApple Inc.\n-2.379\n\n\nAAPL\n2010-02-05\n6.880\n7.000\n6.816\n6.981\n850306800\nApple Inc.\n1.469\n\n\nAAPL\n2010-02-08\n6.989\n7.067\n6.929\n6.933\n478270800\nApple Inc.\n-0.802\n\n\nAAPL\n2010-02-09\n7.015\n7.054\n6.955\n7.007\n632886800\nApple Inc.\n-0.117\n\n\nAAPL\n2010-02-10\n6.996\n7.021\n6.938\n6.969\n370361600\nApple Inc.\n-0.393\n\n\nAAPL\n2010-02-11\n6.960\n7.134\n6.931\n7.095\n550345600\nApple Inc.\n1.945\n\n\nAAPL\n2010-02-12\n7.075\n7.201\n6.982\n7.156\n655468800\nApple Inc.\n1.146\n\n\nAAPL\n2010-02-16\n7.212\n7.275\n7.197\n7.264\n543737600\nApple Inc.\n0.723\n\n\nAAPL\n2010-02-17\n7.293\n7.297\n7.174\n7.234\n436396800\nApple Inc.\n-0.803\n\n\nAAPL\n2010-02-18\n7.201\n7.282\n7.176\n7.247\n422825200\nApple Inc.\n0.645\n\n\nAAPL\n2010-02-19\n7.209\n7.257\n7.182\n7.202\n415469600\nApple Inc.\n-0.094\n\n\nAAPL\n2010-02-22\n7.226\n7.232\n7.114\n7.158\n390563600\nApple Inc.\n-0.949\n\n\nAAPL\n2010-02-23\n7.143\n7.190\n6.990\n7.038\n575094800\nApple Inc.\n-1.470\n\n\nAAPL\n2010-02-24\n7.080\n7.194\n7.066\n7.166\n460566400\nApple Inc.\n1.226\n\n\nAAPL\n2010-02-25\n7.049\n7.245\n7.032\n7.214\n665126000\nApple Inc.\n2.341\n\n\nAAPL\n2010-02-26\n7.228\n7.327\n7.214\n7.308\n507460800\nApple Inc.\n1.107\n\n\nAAPL\n2010-03-01\n7.348\n7.482\n7.338\n7.464\n550093600\nApple Inc.\n1.575\n\n\nAAPL\n2010-03-02\n7.497\n7.530\n7.419\n7.459\n566546400\nApple Inc.\n-0.514\n\n\nAAPL\n2010-03-03\n7.462\n7.495\n7.426\n7.476\n372052800\nApple Inc.\n0.187\n\n\nAAPL\n2010-03-04\n7.474\n7.533\n7.451\n7.525\n366041200\nApple Inc.\n0.683\n\n\nAAPL\n2010-03-05\n7.676\n7.846\n7.665\n7.820\n899620400\nApple Inc.\n1.866\n\n\nAAPL\n2010-03-08\n7.858\n7.860\n7.795\n7.824\n429889600\nApple Inc.\n-0.423\n\n\nAAPL\n2010-03-09\n7.797\n8.036\n7.782\n7.965\n920259200\nApple Inc.\n2.157\n\n\nAAPL\n2010-03-10\n7.994\n8.053\n7.971\n8.030\n596218000\nApple Inc.\n0.451\n\n\nAAPL\n2010-03-11\n7.997\n8.054\n7.976\n8.054\n405700400\nApple Inc.\n0.710\n\n\nAAPL\n2010-03-12\n8.120\n8.133\n8.062\n8.093\n416323600\nApple Inc.\n-0.339\n\n\nAAPL\n2010-03-15\n8.049\n8.054\n7.866\n7.994\n493502800\nApple Inc.\n-0.683\n\n\nAAPL\n2010-03-16\n8.006\n8.035\n7.947\n8.016\n446908000\nApple Inc.\n0.120\n\n\nAAPL\n2010-03-17\n8.032\n8.088\n7.974\n8.004\n450956800\nApple Inc.\n-0.347\n\n\nAAPL\n2010-03-18\n8.004\n8.036\n7.950\n8.023\n342109600\nApple Inc.\n0.245\n\n\nAAPL\n2010-03-19\n8.028\n8.044\n7.901\n7.938\n559445600\nApple Inc.\n-1.130\n\n\nAAPL\n2010-03-22\n7.874\n8.071\n7.862\n8.027\n456419600\nApple Inc.\n1.941\n\n\nAAPL\n2010-03-23\n8.059\n8.171\n8.004\n8.156\n602431200\nApple Inc.\n1.205\n\n\nAAPL\n2010-03-24\n8.130\n8.221\n8.125\n8.192\n597780400\nApple Inc.\n0.760\n\n\nAAPL\n2010-03-25\n8.247\n8.249\n8.080\n8.095\n542284400\nApple Inc.\n-1.849\n\n\nAAPL\n2010-03-26\n8.177\n8.284\n8.162\n8.246\n640875200\nApple Inc.\n0.852\n\n\nAAPL\n2010-03-29\n8.321\n8.352\n8.272\n8.300\n540744400\nApple Inc.\n-0.262\n\n\nAAPL\n2010-03-30\n8.450\n8.481\n8.366\n8.423\n527310000\nApple Inc.\n-0.317\n\n\nAAPL\n2010-03-31\n8.410\n8.450\n8.374\n8.393\n430659600\nApple Inc.\n-0.208\n\n\nAAPL\n2010-04-01\n8.479\n8.526\n8.312\n8.428\n603145200\nApple Inc.\n-0.607\n\n\nAAPL\n2010-04-05\n8.392\n8.518\n8.385\n8.518\n684507600\nApple Inc.\n1.494\n\n\nAAPL\n2010-04-06\n8.507\n8.580\n8.464\n8.555\n447017200\nApple Inc.\n0.563\n\n\nAAPL\n2010-04-07\n8.555\n8.640\n8.524\n8.593\n628502000\nApple Inc.\n0.438\n\n\nAAPL\n2010-04-08\n8.587\n8.626\n8.501\n8.570\n572989200\nApple Inc.\n-0.204\n\n\nAAPL\n2010-04-09\n8.623\n8.639\n8.588\n8.635\n334182800\nApple Inc.\n0.149\n\n\nAAPL\n2010-04-12\n8.650\n8.681\n8.636\n8.653\n333026400\nApple Inc.\n0.037\n\n\nAAPL\n2010-04-13\n8.638\n8.671\n8.611\n8.658\n306210800\nApple Inc.\n0.236\n\n\nAAPL\n2010-04-14\n8.760\n8.779\n8.717\n8.775\n404076400\nApple Inc.\n0.167\n\n\nAAPL\n2010-04-15\n8.778\n8.894\n8.768\n8.890\n376784800\nApple Inc.\n1.278\n\n\nAAPL\n2010-04-16\n8.877\n8.969\n8.734\n8.836\n750545600\nApple Inc.\n-0.471\n\n\nAAPL\n2010-04-19\n8.822\n8.853\n8.635\n8.824\n566924400\nApple Inc.\n0.016\n\n\nAAPL\n2010-04-20\n8.876\n8.902\n8.677\n8.735\n738326400\nApple Inc.\n-1.589\n\n\nAAPL\n2010-04-21\n9.243\n9.295\n9.133\n9.258\n982391200\nApple Inc.\n0.162\n\n\nAAPL\n2010-04-22\n9.223\n9.527\n9.150\n9.517\n793424800\nApple Inc.\n3.187\n\n\nAAPL\n2010-04-23\n9.571\n9.721\n9.536\n9.672\n796955600\nApple Inc.\n1.060\n\n\nAAPL\n2010-04-26\n9.710\n9.731\n9.578\n9.625\n479068800\nApple Inc.\n-0.875\n\n\nAAPL\n2010-04-27\n9.545\n9.566\n9.304\n9.359\n709343600\nApple Inc.\n-1.957\n\n\nAAPL\n2010-04-28\n9.402\n9.429\n9.158\n9.343\n758402400\nApple Inc.\n-0.627\n\n\nAAPL\n2010-04-29\n9.394\n9.643\n9.358\n9.594\n558840800\nApple Inc.\n2.137\n\n\nAAPL\n2010-04-30\n9.618\n9.663\n9.321\n9.325\n542463600\nApple Inc.\n-3.052\n\n\nAAPL\n2010-05-03\n9.423\n9.567\n9.389\n9.512\n454342000\nApple Inc.\n0.951\n\n\nAAPL\n2010-05-04\n9.389\n9.403\n9.170\n9.239\n723819600\nApple Inc.\n-1.601\n\n\nAAPL\n2010-05-05\n9.037\n9.219\n8.883\n9.142\n883103200\nApple Inc.\n1.170\n\n\nAAPL\n2010-05-06\n9.065\n9.223\n7.116\n8.795\n1285860800\nApple Inc.\n-2.986\n\n\nAAPL\n2010-05-07\n8.704\n8.806\n8.043\n8.424\n1676018400\nApple Inc.\n-3.221\n\n\nAAPL\n2010-05-10\n8.938\n9.095\n8.876\n9.071\n984306400\nApple Inc.\n1.495\n\n\nAAPL\n2010-05-11\n8.994\n9.282\n8.946\n9.161\n848906800\nApple Inc.\n1.858\n\n\nAAPL\n2010-05-12\n9.259\n9.398\n9.239\n9.360\n654379600\nApple Inc.\n1.099\n\n\nAAPL\n2010-05-13\n9.401\n9.464\n9.157\n9.227\n599712400\nApple Inc.\n-1.846\n\n\nAAPL\n2010-05-14\n9.113\n9.160\n8.911\n9.065\n759362800\nApple Inc.\n-0.525\n\n\nAAPL\n2010-05-17\n9.096\n9.149\n8.847\n9.079\n762834800\nApple Inc.\n-0.188\n\n\nAAPL\n2010-05-18\n9.178\n9.234\n8.938\n9.013\n782678400\nApple Inc.\n-1.798\n\n\nAAPL\n2010-05-19\n8.911\n9.033\n8.745\n8.869\n1025726800\nApple Inc.\n-0.465\n\n\nAAPL\n2010-05-20\n8.639\n8.709\n8.436\n8.491\n1282915200\nApple Inc.\n-1.703\n\n\nAAPL\n2010-05-21\n8.315\n8.732\n8.262\n8.654\n1223891200\nApple Inc.\n4.080\n\n\nAAPL\n2010-05-24\n8.831\n8.961\n8.795\n8.813\n754238800\nApple Inc.\n-0.210\n\n\nAAPL\n2010-05-25\n8.548\n8.813\n8.470\n8.758\n1048006400\nApple Inc.\n2.452\n\n\nAAPL\n2010-05-26\n8.931\n9.005\n8.705\n8.718\n850654000\nApple Inc.\n-2.387\n\n\n\n\n\n\n\nRezultātā ir iegūta viena, apvienota, tabula, ar mainītiem datu tipiem un tulkotiem nosaukumiem.\n\n\n\n\nDati ir par akciju rezultātiem no 2010. gada 1. janvāra, līdz 2022. gada 29. decembrim. Lai labāk izpētītu šos datus, nepieciešams izveidot papildus\n\n\nNepieciešams iepazīties ar sākotnējiem datiem, lai izvrizītu pētāmos jautājumus vai nakotnes hipotēzes\n\n# grafiku attēlošanas funkcijas inicializēšana\nplot_stock &lt;- function(comp){\n  # Izveidojam mainīgo ar filtrētiem datiem\n  stock_subset &lt;-  data %&gt;% filter(company == comp)\n  \n  # atridan katra uzņēmuma mazāko un augstāko vērtību\n  min_value &lt;- min(stock_subset$atversanas_cena, na.rm = TRUE)\n  max_value &lt;- max(stock_subset$atversanas_cena, na.rm = TRUE)\n  \n  min_date &lt;- stock_subset$datums[which.min(stock_subset$atversanas_cena)]\n  max_date &lt;- stock_subset$datums[which.max(stock_subset$atversanas_cena)]\n  \n  # grafika attēlošana\n    ggplot(stock_subset, aes(x = datums)) +\n    # vizualizējam atvēršanas cenas\n    geom_line(aes(y = atversanas_cena), color = \"blue\", size = 1) +\n    # pievienojam katram grafikam minimālās un maximālās vērtības\n    geom_point(aes(x = min_date, y = min_value), color = \"red\", size = 3) +\n    geom_point(aes(x = max_date, y = max_value), color = \"green\", size = 3) +\n    # pievienojam katrai ekstrēmai vērtīas\n      geom_text(aes(x = min_date, y = min_value, \n                  label = paste(\"Min:\", round(min_value, 2))), \n              vjust = -1, hjust = -0.2, color = \"red\") +\n    \n    geom_text(aes(x = max_date, y = max_value, \n                  label = paste(\"Max:\", round(max_value, 2))), \n              vjust = 1, hjust = 1.5 , color = \"green\") +\n\n    ggtitle(paste(comp, \"Akciju atvēršanas cena\")) +\n    xlab(\"Gads\") + ylab(\"Cena\") +\n    theme_minimal()\n}\n\n# grafika zīmēšanas cikls\n\n# attēlo grafikus katrai unikālai kompānijai\nfor (stock in unique(data$company)){\n  print(plot_stock(stock))\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nŠadi varam saglabāt attēlus\n\n# ggsave(\"ggplot_example.png\", plot = p, width = 8, height = 6, dpi = 300)\n\n\n\n\n\n\n\nAkciju vidējais pārdotias skaits, vidējā dienas atdeve un tās standartnovirze\n\n #apllūkojam uzņēmumu aprakstošo satistiku\ndata %&gt;%\n  # sagrubējam visus datus pēc uzņēmumiem\n  group_by(company) %&gt;% \n  summarise(\n    # vidējais pārdotais akciju daudzums\n    avg_volume = mean(akciju_skaits, na.rm = TRUE),\n    # lielākais pārdoto akciju daudzums dienā\n    max_volume = max(akciju_skaits, na.rm = TRUE),\n    # mazākais pārdoto akciju daudzums dienā\n    min_volume = min(akciju_skaits, na.rm = TRUE),\n    # vidējais peļņas rādītājs par periodu\n    avg_daily_return = round(mean(dienas_atdeve, na.rm = TRUE), 3),\n    # dienas atdeves standartnovirze\n    sd_daily_return = round(sd(dienas_atdeve, na.rm = TRUE), 3),\n    # vidējā akcijas slēgšanas cena\n    avg_close = round(mean(slegsanas_cena, na.rm = TRUE), 2),\n    # maksimālā akcijas slēgšanas cena\n    max_close = max(slegsanas_cena, na.rm = TRUE),\n    # minimālā akcijas slēgšanas cena\n    min_close = min(slegsanas_cena, na.rm = TRUE),\n    # Volatility - vidējā dienas akcijas cenu izmaiņa (augstākā- zemākā cena)\n    avg_volatility = round(mean(augstaka_cena - zemaka_cena, na.rm = TRUE), 2),\n    # Kopējā kimilatīvā atdeve par visu periodu \n    cumulative_return = round(((last(slegsanas_cena) - first(slegsanas_cena)) / first(slegsanas_cena)) * 100, 2),\n    # kopējās akcijas pārdošanas dienu skaits periodā\n    total_trading_days = n(),\n    # perioda pirmā diena\n    first_date = min(datums),\n    last_date = max(datums)\n  ) %&gt;% \n  arrange(desc(avg_volume)) %&gt;% \n  {. -&gt;&gt; data_1 }\n\ndata_1 %&gt;% \n  kbl() %&gt;% \n  kable_styling(full_width = FALSE) %&gt;%\n  scroll_box(width = \"100%\", height = \"400px\")\n\n\n\n\n\ncompany\navg_volume\nmax_volume\nmin_volume\navg_daily_return\nsd_daily_return\navg_close\nmax_close\nmin_close\navg_volatility\ncumulative_return\ntotal_trading_days\nfirst_date\nlast_date\n\n\n\n\nApple Inc.\n256325536\n1880998000\n35195900\n0.027\n1.402\n51.30\n182.010\n6.859\n1.14\n1595.80\n3271\n2010-01-04\n2022-12-29\n\n\nTesla, Inc.\n93516466\n914082000\n1777500\n0.001\n2.935\n58.81\n409.970\n1.053\n2.77\n7566.46\n3148\n2010-06-30\n2022-12-29\n\n\nAmazon.com, Inc.\n88339985\n848422000\n17626000\n0.010\n1.635\n58.91\n186.570\n5.431\n1.43\n1157.36\n3271\n2010-01-04\n2022-12-29\n\n\nAlphabet Inc.\n60186469\n592399008\n9312000\n-0.004\n1.277\n49.15\n149.839\n10.913\n1.00\n463.95\n3271\n2010-01-04\n2022-12-29\n\n\nNVIDIA Corporation\n50806127\n369292800\n4564400\n0.038\n2.302\n50.56\n333.760\n2.220\n1.96\n3059.45\n3271\n2010-01-04\n2022-12-29\n\n\nMicrosoft Corporation\n38016469\n319317900\n7425600\n0.039\n1.261\n100.07\n343.110\n23.010\n2.03\n678.71\n3271\n2010-01-04\n2022-12-29\n\n\nIntel Corporation\n36071696\n199002600\n5893800\n0.041\n1.392\n36.49\n68.470\n17.670\n0.78\n25.53\n3271\n2010-01-04\n2022-12-29\n\n\nCisco Systems, Inc.\n32696560\n560040200\n5720500\n0.031\n1.196\n33.50\n63.960\n13.730\n0.62\n92.39\n3271\n2010-01-04\n2022-12-29\n\n\nMeta Platforms, Inc.\n31178147\n573576400\n5913100\n0.016\n1.833\n147.91\n382.180\n17.730\n3.75\n274.42\n2688\n2012-05-18\n2023-01-24\n\n\nNetflix, Inc.\n18414854\n315541800\n1144000\n0.090\n2.453\n188.25\n691.690\n7.019\n6.01\n3710.47\n3271\n2010-01-04\n2022-12-29\n\n\nOracle Corporation\n18018559\n183503900\n2754900\n0.054\n1.259\n46.26\n103.650\n21.460\n0.87\n227.57\n3271\n2010-01-04\n2022-12-29\n\n\nSalesforce, Inc.\n6910973\n64562800\n1084700\n0.032\n1.847\n103.40\n309.960\n15.520\n2.72\n608.58\n3271\n2010-01-04\n2022-12-29\n\n\nInternational Business Machines Corporation\n5036545\n39814421\n1247878\n0.036\n1.039\n148.47\n206.310\n90.602\n2.23\n11.40\n3271\n2010-01-04\n2022-12-29\n\n\nAdobe Inc.\n3814337\n108752400\n589200\n0.055\n1.556\n186.02\n688.370\n22.690\n4.59\n810.16\n3271\n2010-01-04\n2022-12-29\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineārār regresijas formula\n\\(\\text{slegsanas\\_cena} = \\beta_0 + \\beta_1 \\cdot \\text{atversanas\\_cena} + \\beta_2 \\cdot \\text{akciju\\_skaits} + \\beta_3 \\cdot \\text{dienas\\_atdeve} + \\varepsilon\\)\n\n# Filtrējam datus tikai vienam uzņēmumam, piemēram, \"Apple\"\napple_data &lt;- data %&gt;% filter(company == \"Apple Inc.\")\n\n# Veicam lineāro regresiju: Slēgšanas cena kā atkarīgais mainīgais no atvēršanas cenas\nlinear_model_apple &lt;- lm(slegsanas_cena ~ atversanas_cena + akciju_skaits + dienas_atdeve, data = apple_data)\n\n# Izvadam modeļa kopsavilkumu\nsummary(linear_model_apple)\n\n\nCall:\nlm(formula = slegsanas_cena ~ atversanas_cena + akciju_skaits + \n    dienas_atdeve, data = apple_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.6572 -0.2594  0.0101  0.2685  6.0308 \n\nCoefficients:\n                  Estimate Std. Error  t value Pr(&gt;|t|)    \n(Intercept)     -6.128e-02  3.173e-02   -1.932   0.0535 .  \natversanas_cena  1.000e+00  3.157e-04 3169.489   &lt;2e-16 ***\nakciju_skaits    1.729e-10  6.728e-11    2.569   0.0102 *  \ndienas_atdeve    6.152e-01  9.256e-03   66.463   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.7399 on 3267 degrees of freedom\nMultiple R-squared:  0.9998,    Adjusted R-squared:  0.9998 \nF-statistic: 4.462e+06 on 3 and 3267 DF,  p-value: &lt; 2.2e-16\n\n\nSvarīgākie modeļa parametri:\n\nKoeficienti: Parāda, kā mainās slēgšanas cena, ja neatkarīgie mainīgie mainās par vienu vienību.\nP-vērtība: Indikē, vai attiecīgais mainīgais ir statistiski nozīmīgs.\nR^2: Paskaidro, cik liela daļa no slēgšanas cenas variācijas tiek izskaidrota ar izvēlētajiem mainīgajiem.\nResiduals: Atlikumu analīze, lai novērtētu modeļa piemērotību.\n\n\n\n\n\n# Veicam prognozi ar jauniem datiem konkrētam uzņēmumam\nnew_apple_data &lt;- data.frame(\n  atversanas_cena = c(150, 200, 250),\n  akciju_skaits = c(1000000, 1500000, 2000000),\n  dienas_atdeve = c(1.5, 2.0, -0.5)\n)\n# izveidojam jaunu prognozes mainīgo\napple_predictions &lt;- predict(linear_model_apple, new_apple_data)\nnew_apple_data$slegsanas_cena_pred &lt;- apple_predictions\n# Izvadām prognozētās vērtības\nnew_apple_data %&gt;% kbl()\n\n\n\n\natversanas_cena\nakciju_skaits\ndienas_atdeve\nslegsanas_cena_pred\n\n\n\n\n150\n1000000\n1.5\n150.9300\n\n\n200\n1500000\n2.0\n201.2604\n\n\n250\n2000000\n-0.5\n249.7453\n\n\n\n\n\n\n\n\n\n\n\n# Combine actual and predicted data\nnew_apple_data$source &lt;- \"Prediction\"\napple_data$source &lt;- \"Actual\"\n\ncombined_data &lt;- bind_rows(\n  apple_data %&gt;% select(atversanas_cena, slegsanas_cena) %&gt;% mutate(source = \"Actual\"),\n  new_apple_data %&gt;% rename(slegsanas_cena = slegsanas_cena_pred) %&gt;% mutate(source = \"Prediction\")\n)\n\n# Plot actual vs predicted values\nggplot(combined_data, aes(x = atversanas_cena, y = slegsanas_cena, color = source)) +\n  geom_point(alpha = 0.6) +\n  geom_smooth(data = apple_data, aes(x = atversanas_cena, y = slegsanas_cena), method = \"lm\", color = \"red\") +\n  labs(title = \"Apple slēgšanas cenas prognoze un faktiskās vērtības\",\n       x = \"Atvēršanas cena\",\n       y = \"Slēgšanas cena\") +\n  theme_minimal() +\n  scale_color_manual(values = c(\"Actual\" = \"blue\", \"Prediction\" = \"green\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Funkcija investīcijas peļņas aprēķinam visām kompānijām\ninvesticija_peļņa_visam &lt;- function(sakotneja_suma) {\n  \n  # Aprēķinam peļņu katrai kompānijai\n  rezultati &lt;- data %&gt;%\n    group_by(company) %&gt;%  # Grupējam datus pēc kompānijas nosaukuma\n    arrange(datums) %&gt;%    # Kārtojam datus pēc datuma hronoloģiskā secībā\n    summarise(\n      sakuma_cena = first(slegsanas_cena),  # Iegūstam akcijas sākuma cenu\n      beigu_cena = last(slegsanas_cena),    # Iegūstam akcijas beigu cenu\n      .groups = \"drop\"  # Atceļam grupēšanu pēc apstrādes\n    ) %&gt;%\n    mutate(\n      # Aprēķinām kopējo peļņu ieguldījuma periodā\n      pelna = round(sakotneja_suma * (beigu_cena / sakuma_cena) - sakotneja_suma,),\n      # Aprēķinām procentuālo pieaugumu ieguldījuma periodā\n      pieaugums_proc = round((beigu_cena - sakuma_cena) / sakuma_cena * 100\n    ),2) %&gt;%\n    select(company, pelna, pieaugums_proc) %&gt;%  # Atlasām vajadzīgās kolonnas\n    rename(\n      \"Uzņēmums\" = company,  # Pārsaucam kompānijas kolonnu\n      \"Peļņa (EUR)\" = pelna,  # Pārsaucam peļņas kolonnu\n      \"Peļņa (%)\" = pieaugums_proc  # Pārsaucam peļņas procentu kolonnu\n    ) %&gt;% \n    arrange(desc(`Peļņa (EUR)`)  # Kārtojam pēc lielākās peļņas dilstošā secībā\n    ) %&gt;% kbl() %&gt;% \n    kable_styling(full_width = FALSE) %&gt;%\n    scroll_box(width = \"100%\", height = \"400px\")\n    \n  return(rezultati)  # Atgriežam rezultātu tabulu\n}\n\n# Piemērs funkcijas izsaukšanai ar ieguldījumu 1000 EUR\ninvesticija_peļņa_visam(sakotneja_suma = 1000)  # Izsaucam funkciju ar piemēra summu\n\n\n\n\n\nUzņēmums\nPeļņa (EUR)\nPeļņa (%)\n\n\n\n\nTesla, Inc.\n75665\n7566\n\n\nNetflix, Inc.\n37105\n3710\n\n\nNVIDIA Corporation\n30595\n3059\n\n\nApple Inc.\n15958\n1596\n\n\nAmazon.com, Inc.\n11574\n1157\n\n\nAdobe Inc.\n8102\n810\n\n\nMicrosoft Corporation\n6787\n679\n\n\nSalesforce, Inc.\n6086\n609\n\n\nAlphabet Inc.\n4640\n464\n\n\nMeta Platforms, Inc.\n2744\n274\n\n\nOracle Corporation\n2276\n228\n\n\nCisco Systems, Inc.\n924\n92\n\n\nIntel Corporation\n255\n26\n\n\nInternational Business Machines Corporation\n114\n11\n\n\n\n\n\n\n\n\n# Izveidojam datus grafika attēlošanai\nplot_data &lt;- data %&gt;%\n  group_by(company) %&gt;%\n  arrange(datums) %&gt;%\n  summarise(\n    sakuma_cena = first(slegsanas_cena),\n    beigu_cena = last(slegsanas_cena),\n    pelna = round(1000 * (last(slegsanas_cena) / first(slegsanas_cena)) - 1000),\n    pieaugums_proc = round((last(slegsanas_cena) - first(slegsanas_cena)) / first(slegsanas_cena) * 100, 2),\n    .groups = \"drop\"\n  ) %&gt;%\n\n  select(company, pelna, pieaugums_proc) %&gt;%\n  rename(\n    \"Uzņēmums\" = company,\n    \"Peļņa (EUR)\" = pelna,\n    \"Peļņa (%)\" = pieaugums_proc,\n    \n  ) %&gt;%\n  arrange(desc(`Peļņa (EUR)`))\n\nggplot(plot_data, aes(x = reorder(`Uzņēmums`, `Peļņa (EUR)`), y = `Peļņa (EUR)`)) +\n  # Pievienojam barchart, count vietā, liekam attēlot plot_data datus\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  # Pagriežam koordinātu sistēmu, lai joslas būtu horizontālas\n  coord_flip() +\n  # Pievienojam diagrammas nosaukumu un ass nosaukumus\n  labs(title = \"Kompāniju peļņa no sākotnējā ieguldījuma\",\n       x = \"Uzņēmums\",\n       y = \"Peļņa (EUR)\") +\n  theme_minimal()"
  },
  {
    "objectID": "rexam.html#datu-ielāde",
    "href": "rexam.html#datu-ielāde",
    "title": "R Language Exam",
    "section": "",
    "text": "# ielādējam datu objektu\ntuesdata &lt;- tidytuesdayR::tt_load('2023-02-07')\n# sadalām objektu pa datuframe\nprices &lt;- tuesdata$big_tech_stock_prices \ncompanies &lt;- tuesdata$big_tech_companies"
  },
  {
    "objectID": "rexam.html#veicam-sākotnējo-izpētes-datu-analīzi",
    "href": "rexam.html#veicam-sākotnējo-izpētes-datu-analīzi",
    "title": "R Language Exam",
    "section": "",
    "text": "Pirms datu analīzes nepieciešamas izpētīt pieejamos datus un koriģēt tos tālākajam darbam\n\n# Datu analīze ####\n# summary statistics\nskim(prices)\n\n\nData summary\n\n\nName\nprices\n\n\nNumber of rows\n45088\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nDate\n1\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\ndate\n0\n1\n2010-01-04\n2023-01-24\n2016-08-09\n3287\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nopen\n0\n1\n89.27\n101.63\n1.08\n25.67\n47.93\n128.66\n6.962800e+02\n▇▂▁▁▁\n\n\nhigh\n0\n1\n90.37\n103.00\n1.11\n25.93\n48.46\n129.85\n7.009900e+02\n▇▂▁▁▁\n\n\nlow\n0\n1\n88.11\n100.12\n1.00\n25.36\n47.47\n127.25\n6.860900e+02\n▇▂▁▁▁\n\n\nclose\n0\n1\n89.27\n101.59\n1.05\n25.66\n47.97\n128.64\n6.916900e+02\n▇▂▁▁▁\n\n\nadj_close\n0\n1\n85.21\n101.00\n1.05\n22.08\n45.38\n113.67\n6.916900e+02\n▇▁▁▁▁\n\n\nvolume\n0\n1\n52978130.54\n93247295.87\n589200.00\n9629425.00\n26463150.00\n58397675.00\n1.880998e+09\n▇▁▁▁▁\n\n\n\n\nskim(companies)\n\n\nData summary\n\n\nName\ncompanies\n\n\nNumber of rows\n14\n\n\nNumber of columns\n2\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\ncompany\n0\n1\n10\n43\n0\n14\n0\n\n\n\n\n\nPieejamas divas tabulas:\n\ncompanies - 2 kolonnas :\n\nstock_symbol - akciju kodi\ncompany - uzņēmuma nosaukumu\n\nprices - 6 kolonnas :\n\ndate - datums\nopen - akcijas vērtība dienas sākumā\nhigh - akcijas dienas augstākā vērtība\nlow - akcijas dienas zemākā vērtība\nclose - akcijas vērtība dienas beigās\nadj_close - slēgšanas cena pēc visu piemērojamo sadalīšanas un dividenžu sadales korekciju veikšanas\nvolume - šajā dienā tirgoto akciju skaits.\n\n\nKopumā tabulas ir nelielas, kolonu zinā, bet kopējais datu apjoms ir ievērojams - 45088 tabulas ieraksti un 0 trūkošo datu.\nTālākai apstrāde vai apvienot šīs tabulas ērtākam darbam\n\n\n\n## Tabulu apvienošana ####\nprices_data &lt;- prices %&gt;% \n  left_join(companies, by = \"stock_symbol\")\n## Tabulu datu tipu pārveidošana ####\ndata &lt;- prices_data%&gt;% \n  mutate(\n    # definēja, ka date ir pareizā datu formāta\n    date = as.Date(date, format = \"%Y%m%d\"),\n    # pārveidojam nominālos mainīgos par faktoriem\n    stock_symbol = as.factor(stock_symbol),\n    company = as.factor(company)\n  ) %&gt;% \n  # starprezultātu saglabāšana\n  {. -&gt;&gt; data_with_datatypes } %&gt;% \n    # pārsaucam tabulas kolonu\n  rename(\n    \"akcija\" = \"stock_symbol\",\n    \"datums\" = \"date\",\n    \"atversanas_cena\" = \"open\",\n    \"augstaka_cena\"= \"high\",\n    \"zemaka_cena\"=\"low\" ,\n    \"slegsanas_cena\" = \"close\",\n    \"koregeta_slegsanas_cena\" = \"adj_close\",\n   \"akciju_skaits\"=  \"volume\"\n  ) %&gt;%\n  # pievienojam jaunu kolonu -  dienas atdevi, kur tiek rēķināta katrai rindai\n  mutate(\n    dienas_atdeve = round((prices_data$close - prices_data$open) / prices_data$open * 100,3)\n  ) %&gt;% \n  glimpse()\n\nRows: 45,088\nColumns: 10\n$ akcija                  &lt;fct&gt; AAPL, AAPL, AAPL, AAPL, AAPL, AAPL, AAPL, AAPL…\n$ datums                  &lt;date&gt; 2010-01-04, 2010-01-05, 2010-01-06, 2010-01-0…\n$ atversanas_cena         &lt;dbl&gt; 7.622500, 7.664286, 7.656429, 7.562500, 7.5107…\n$ augstaka_cena           &lt;dbl&gt; 7.660714, 7.699643, 7.686786, 7.571429, 7.5714…\n$ zemaka_cena             &lt;dbl&gt; 7.585000, 7.616071, 7.526786, 7.466071, 7.4664…\n$ slegsanas_cena          &lt;dbl&gt; 7.643214, 7.656429, 7.534643, 7.520714, 7.5707…\n$ koregeta_slegsanas_cena &lt;dbl&gt; 6.515213, 6.526476, 6.422664, 6.410790, 6.4534…\n$ akciju_skaits           &lt;dbl&gt; 493729600, 601904800, 552160000, 477131200, 44…\n$ company                 &lt;fct&gt; \"Apple Inc.\", \"Apple Inc.\", \"Apple Inc.\", \"App…\n$ dienas_atdeve           &lt;dbl&gt; 0.272, -0.103, -1.591, -0.553, 0.799, -1.264, …\n\n\nPēc datu sakārtošanas var atkārtot izpētes datu analīzi (exploratory statistics)\n\n# veicam atkārtotu datu novērtēšanu\nskim(data)\n\n\nData summary\n\n\nName\ndata\n\n\nNumber of rows\n45088\n\n\nNumber of columns\n10\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nDate\n1\n\n\nfactor\n2\n\n\nnumeric\n7\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\ndatums\n0\n1\n2010-01-04\n2023-01-24\n2016-08-09\n3287\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nakcija\n0\n1\nFALSE\n14\nAAP: 3271, ADB: 3271, AMZ: 3271, CRM: 3271\n\n\ncompany\n0\n1\nFALSE\n14\nAdo: 3271, Alp: 3271, Ama: 3271, App: 3271\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\natversanas_cena\n0\n1\n89.27\n101.63\n1.08\n25.67\n47.93\n128.66\n6.962800e+02\n▇▂▁▁▁\n\n\naugstaka_cena\n0\n1\n90.37\n103.00\n1.11\n25.93\n48.46\n129.85\n7.009900e+02\n▇▂▁▁▁\n\n\nzemaka_cena\n0\n1\n88.11\n100.12\n1.00\n25.36\n47.47\n127.25\n6.860900e+02\n▇▂▁▁▁\n\n\nslegsanas_cena\n0\n1\n89.27\n101.59\n1.05\n25.66\n47.97\n128.64\n6.916900e+02\n▇▂▁▁▁\n\n\nkoregeta_slegsanas_cena\n0\n1\n85.21\n101.00\n1.05\n22.08\n45.38\n113.67\n6.916900e+02\n▇▁▁▁▁\n\n\nakciju_skaits\n0\n1\n52978130.54\n93247295.87\n589200.00\n9629425.00\n26463150.00\n58397675.00\n1.880998e+09\n▇▁▁▁▁\n\n\ndienas_atdeve\n0\n1\n0.03\n1.75\n-19.75\n-0.80\n0.04\n0.89\n1.993000e+01\n▁▁▇▁▁\n\n\n\n\nstr(data)\n\ntibble [45,088 × 10] (S3: tbl_df/tbl/data.frame)\n $ akcija                 : Factor w/ 14 levels \"AAPL\",\"ADBE\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ datums                 : Date[1:45088], format: \"2010-01-04\" \"2010-01-05\" ...\n $ atversanas_cena        : num [1:45088] 7.62 7.66 7.66 7.56 7.51 ...\n $ augstaka_cena          : num [1:45088] 7.66 7.7 7.69 7.57 7.57 ...\n $ zemaka_cena            : num [1:45088] 7.58 7.62 7.53 7.47 7.47 ...\n $ slegsanas_cena         : num [1:45088] 7.64 7.66 7.53 7.52 7.57 ...\n $ koregeta_slegsanas_cena: num [1:45088] 6.52 6.53 6.42 6.41 6.45 ...\n $ akciju_skaits          : num [1:45088] 4.94e+08 6.02e+08 5.52e+08 4.77e+08 4.48e+08 ...\n $ company                : Factor w/ 14 levels \"Adobe Inc.\",\"Alphabet Inc.\",..: 4 4 4 4 4 4 4 4 4 4 ...\n $ dienas_atdeve          : num [1:45088] 0.272 -0.103 -1.591 -0.553 0.799 ...\n\nsummary(data)\n\n     akcija          datums           atversanas_cena   augstaka_cena    \n AAPL   : 3271   Min.   :2010-01-04   Min.   :  1.076   Min.   :  1.109  \n ADBE   : 3271   1st Qu.:2013-05-30   1st Qu.: 25.670   1st Qu.: 25.930  \n AMZN   : 3271   Median :2016-08-09   Median : 47.930   Median : 48.460  \n CRM    : 3271   Mean   :2016-08-03   Mean   : 89.267   Mean   : 90.370  \n CSCO   : 3271   3rd Qu.:2019-10-21   3rd Qu.:128.662   3rd Qu.:129.849  \n GOOGL  : 3271   Max.   :2023-01-24   Max.   :696.280   Max.   :700.990  \n (Other):25462                                                           \n  zemaka_cena       slegsanas_cena    koregeta_slegsanas_cena\n Min.   :  0.9987   Min.   :  1.053   Min.   :  1.053        \n 1st Qu.: 25.3600   1st Qu.: 25.660   1st Qu.: 22.076        \n Median : 47.4650   Median : 47.970   Median : 45.377        \n Mean   : 88.1119   Mean   : 89.271   Mean   : 85.210        \n 3rd Qu.:127.2539   3rd Qu.:128.641   3rd Qu.:113.672        \n Max.   :686.0900   Max.   :691.690   Max.   :691.690        \n                                                             \n akciju_skaits                      company      dienas_atdeve      \n Min.   :5.892e+05   Adobe Inc.         : 3271   Min.   :-19.75400  \n 1st Qu.:9.629e+06   Alphabet Inc.      : 3271   1st Qu.: -0.80500  \n Median :2.646e+07   Amazon.com, Inc.   : 3271   Median :  0.03600  \n Mean   :5.298e+07   Apple Inc.         : 3271   Mean   :  0.03365  \n 3rd Qu.:5.840e+07   Cisco Systems, Inc.: 3271   3rd Qu.:  0.88700  \n Max.   :1.881e+09   Intel Corporation  : 3271   Max.   : 19.93500  \n                     (Other)            :25462                      \n\n\nRezultātā ir iegūta viena, apvienota, tabula, ar mainītiem datu tipiem un tulkotiem nosaukumiem."
  },
  {
    "objectID": "rexam.html#aprakstošā-statistika",
    "href": "rexam.html#aprakstošā-statistika",
    "title": "R Language Exam",
    "section": "",
    "text": "Dati ir par akciju rezultātiem no 2010. gada 1. janvāra, līdz 2022. gada 29. decembrim. Lai labāk izpētītu šos datus, nepieciešams izveidot papildus\n\n\nNepieciešams iepazīties ar sākotnējiem datiem, lai izvrizītu pētāmos jautājumus vai nakotnes hipotēzes\n\n# grafiku attēlošanas funkcijas inicializēšana\nplot_stock &lt;- function(comp){\n  # Izveidojam mainīgo ar filtrētiem datiem\n  stock_subset &lt;-  data %&gt;% filter(company == comp)\n  \n  # atridan katra uzņēmuma mazāko un augstāko vērtību\n  min_value &lt;- min(stock_subset$atversanas_cena, na.rm = TRUE)\n  max_value &lt;- max(stock_subset$atversanas_cena, na.rm = TRUE)\n  \n  min_date &lt;- stock_subset$datums[which.min(stock_subset$atversanas_cena)]\n  max_date &lt;- stock_subset$datums[which.max(stock_subset$atversanas_cena)]\n  \n  # grafika attēlošana\n    ggplot(stock_subset, aes(x = datums)) +\n    # vizualizējam atvēršanas cenas\n    geom_line(aes(y = atversanas_cena), color = \"blue\", size = 1) +\n    # pievienojam katram grafikam minimālās un maximālās vērtības\n    geom_point(aes(x = min_date, y = min_value), color = \"red\", size = 3) +\n    geom_point(aes(x = max_date, y = max_value), color = \"green\", size = 3) +\n    # pievienojam katrai ekstrēmai vērtīas\n      geom_text(aes(x = min_date, y = min_value, \n                  label = paste(\"Min:\", round(min_value, 2))), \n              vjust = -1, hjust = -0.2, color = \"red\") +\n    \n    geom_text(aes(x = max_date, y = max_value, \n                  label = paste(\"Max:\", round(max_value, 2))), \n              vjust = 1, hjust = 1.5 , color = \"green\") +\n\n    ggtitle(paste(comp, \"Akciju atvēršanas cena\")) +\n    xlab(\"Gads\") + ylab(\"Cena\") +\n    theme_minimal()\n}\n\n# grafika zīmēšanas cikls\n\n# attēlo grafikus katrai unikālai kompānijai\nfor (stock in unique(data$company)){\n  print(plot_stock(stock))\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nŠadi varam saglabāt attēlus\n\n# ggsave(\"ggplot_example.png\", plot = p, width = 8, height = 6, dpi = 300)"
  },
  {
    "objectID": "rexam.html#izmantotās-bibliotēkas",
    "href": "rexam.html#izmantotās-bibliotēkas",
    "title": "R Language Exam",
    "section": "",
    "text": "# Bibliotēku ielāde ####\n\n# tidayverse datu pakotne\nlibrary(tidyverse)\n# datu iepazīšanās pakotne\nlibrary(skimr)\n# tabulu attēlošanai\nlibrary(kableExtra)"
  },
  {
    "objectID": "rexam.html#veicam-sākotnējo-izpētes-datu-analīzi-exploratory-statistics",
    "href": "rexam.html#veicam-sākotnējo-izpētes-datu-analīzi-exploratory-statistics",
    "title": "R Language Exam",
    "section": "",
    "text": "Pirms datu analīzes nepieciešamas izpētīt pieejamos datus un koriģēt tos tālākajam darbam\n\n# Datu analīze ####\n# summary statistics\n\nskim(prices)\n\n\nData summary\n\n\nName\nprices\n\n\nNumber of rows\n45088\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nDate\n1\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\ndate\n0\n1\n2010-01-04\n2023-01-24\n2016-08-09\n3287\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nopen\n0\n1\n89.27\n101.63\n1.08\n25.67\n47.93\n128.66\n6.962800e+02\n▇▂▁▁▁\n\n\nhigh\n0\n1\n90.37\n103.00\n1.11\n25.93\n48.46\n129.85\n7.009900e+02\n▇▂▁▁▁\n\n\nlow\n0\n1\n88.11\n100.12\n1.00\n25.36\n47.47\n127.25\n6.860900e+02\n▇▂▁▁▁\n\n\nclose\n0\n1\n89.27\n101.59\n1.05\n25.66\n47.97\n128.64\n6.916900e+02\n▇▂▁▁▁\n\n\nadj_close\n0\n1\n85.21\n101.00\n1.05\n22.08\n45.38\n113.67\n6.916900e+02\n▇▁▁▁▁\n\n\nvolume\n0\n1\n52978130.54\n93247295.87\n589200.00\n9629425.00\n26463150.00\n58397675.00\n1.880998e+09\n▇▁▁▁▁\n\n\n\n\nskim(companies)\n\n\nData summary\n\n\nName\ncompanies\n\n\nNumber of rows\n14\n\n\nNumber of columns\n2\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nstock_symbol\n0\n1\n3\n5\n0\n14\n0\n\n\ncompany\n0\n1\n10\n43\n0\n14\n0\n\n\n\n\n\nPieejamas divas tabulas:\n\ncompanies - 2 kolonnas :\n\nstock_symbol - akciju kodi\ncompany - uzņēmuma nosaukumu\n\nprices - 6 kolonnas :\n\ndate - datums\nopen - akcijas vērtība dienas sākumā\nhigh - akcijas dienas augstākā vērtība\nlow - akcijas dienas zemākā vērtība\nclose - akcijas vērtība dienas beigās\nadj_close - slēgšanas cena pēc visu piemērojamo sadalīšanas un dividenžu sadales korekciju veikšanas\nvolume - šajā dienā tirgoto akciju skaits.\n\n\nKopumā tabulas ir nelielas, kolonu zinā, bet kopējais datu apjoms ir ievērojams - 45088 tabulas ieraksti un 0 trūkošo datu.\nTālākai apstrāde vai apvienot šīs tabulas ērtākam darbam\n\n\n\n## Tabulu datu tipu pārveidošana ####\ndata &lt;- prices %&gt;% \n  ## Tabulu apvienošana ####\n  left_join(companies, by = \"stock_symbol\") %&gt;% \n  mutate(\n    # definēja, ka date ir pareizā datu formāta\n    date = as.Date(date, format = \"%Y%m%d\"),\n    # pārveidojam nominālos mainīgos par faktoriem\n    stock_symbol = as.factor(stock_symbol),\n    company = as.factor(company),\n    # pievienojam jaunu kolonu -  dienas atdevi, kur tiek rēķināta katrai rindai\n    dienas_atdeve = round((close - open) / open * 100, 3)\n  ) %&gt;% \n  \n    # pārsaucam tabulas kolonu\n  rename(\n    akcija = stock_symbol,\n    datums = date,\n    atversanas_cena = open,\n    augstaka_cena = high,\n    zemaka_cena = low,\n    slegsanas_cena = close,\n    koregeta_slegsanas_cena = adj_close,\n    akciju_skaits = volume\n  ) %&gt;%\n  # noapaļojam kolonas\n  mutate(\n    atversanas_cena = round(atversanas_cena,3),\n    augstaka_cena = round(augstaka_cena,3),\n    zemaka_cena = round(zemaka_cena,3),\n    slegsanas_cena = round(slegsanas_cena,3)\n  ) %&gt;%  \n  # attēlošanai izvēlamies noteiktās kolonas\n  select(akcija, datums, atversanas_cena, augstaka_cena, zemaka_cena, slegsanas_cena, akciju_skaits, company, dienas_atdeve)\n\n\ndata %&gt;% \n  slice_head(n = 100) %&gt;% \n  kbl() %&gt;% \n  kable_styling(full_width = FALSE) %&gt;%\n  scroll_box(width = \"100%\", height = \"400px\")\n\n\n\n\n\nakcija\ndatums\natversanas_cena\naugstaka_cena\nzemaka_cena\nslegsanas_cena\nakciju_skaits\ncompany\ndienas_atdeve\n\n\n\n\nAAPL\n2010-01-04\n7.622\n7.661\n7.585\n7.643\n493729600\nApple Inc.\n0.272\n\n\nAAPL\n2010-01-05\n7.664\n7.700\n7.616\n7.656\n601904800\nApple Inc.\n-0.103\n\n\nAAPL\n2010-01-06\n7.656\n7.687\n7.527\n7.535\n552160000\nApple Inc.\n-1.591\n\n\nAAPL\n2010-01-07\n7.562\n7.571\n7.466\n7.521\n477131200\nApple Inc.\n-0.553\n\n\nAAPL\n2010-01-08\n7.511\n7.571\n7.466\n7.571\n447610800\nApple Inc.\n0.799\n\n\nAAPL\n2010-01-11\n7.600\n7.607\n7.445\n7.504\n462229600\nApple Inc.\n-1.264\n\n\nAAPL\n2010-01-12\n7.471\n7.492\n7.372\n7.419\n594459600\nApple Inc.\n-0.703\n\n\nAAPL\n2010-01-13\n7.424\n7.533\n7.289\n7.523\n605892000\nApple Inc.\n1.337\n\n\nAAPL\n2010-01-14\n7.504\n7.516\n7.465\n7.480\n432894000\nApple Inc.\n-0.324\n\n\nAAPL\n2010-01-15\n7.533\n7.557\n7.352\n7.355\n594067600\nApple Inc.\n-2.370\n\n\nAAPL\n2010-01-19\n7.440\n7.685\n7.401\n7.680\n730007600\nApple Inc.\n3.221\n\n\nAAPL\n2010-01-20\n7.675\n7.698\n7.482\n7.562\n612152800\nApple Inc.\n-1.480\n\n\nAAPL\n2010-01-21\n7.574\n7.618\n7.400\n7.431\n608154400\nApple Inc.\n-1.891\n\n\nAAPL\n2010-01-22\n7.385\n7.411\n7.041\n7.062\n881767600\nApple Inc.\n-4.367\n\n\nAAPL\n2010-01-25\n7.232\n7.311\n7.150\n7.253\n1065699600\nApple Inc.\n0.277\n\n\nAAPL\n2010-01-26\n7.355\n7.633\n7.235\n7.355\n1867110000\nApple Inc.\n-0.005\n\n\nAAPL\n2010-01-27\n7.388\n7.521\n7.126\n7.424\n1722568400\nApple Inc.\n0.498\n\n\nAAPL\n2010-01-28\n7.319\n7.339\n7.096\n7.117\n1173502400\nApple Inc.\n-2.752\n\n\nAAPL\n2010-01-29\n7.181\n7.221\n6.795\n6.859\n1245952400\nApple Inc.\n-4.486\n\n\nAAPL\n2010-02-01\n6.870\n7.000\n6.832\n6.955\n749876400\nApple Inc.\n1.227\n\n\nAAPL\n2010-02-02\n6.997\n7.011\n6.906\n6.995\n698342400\nApple Inc.\n-0.026\n\n\nAAPL\n2010-02-03\n6.970\n7.150\n6.944\n7.115\n615328000\nApple Inc.\n2.080\n\n\nAAPL\n2010-02-04\n7.026\n7.085\n6.842\n6.859\n757652000\nApple Inc.\n-2.379\n\n\nAAPL\n2010-02-05\n6.880\n7.000\n6.816\n6.981\n850306800\nApple Inc.\n1.469\n\n\nAAPL\n2010-02-08\n6.989\n7.067\n6.929\n6.933\n478270800\nApple Inc.\n-0.802\n\n\nAAPL\n2010-02-09\n7.015\n7.054\n6.955\n7.007\n632886800\nApple Inc.\n-0.117\n\n\nAAPL\n2010-02-10\n6.996\n7.021\n6.938\n6.969\n370361600\nApple Inc.\n-0.393\n\n\nAAPL\n2010-02-11\n6.960\n7.134\n6.931\n7.095\n550345600\nApple Inc.\n1.945\n\n\nAAPL\n2010-02-12\n7.075\n7.201\n6.982\n7.156\n655468800\nApple Inc.\n1.146\n\n\nAAPL\n2010-02-16\n7.212\n7.275\n7.197\n7.264\n543737600\nApple Inc.\n0.723\n\n\nAAPL\n2010-02-17\n7.293\n7.297\n7.174\n7.234\n436396800\nApple Inc.\n-0.803\n\n\nAAPL\n2010-02-18\n7.201\n7.282\n7.176\n7.247\n422825200\nApple Inc.\n0.645\n\n\nAAPL\n2010-02-19\n7.209\n7.257\n7.182\n7.202\n415469600\nApple Inc.\n-0.094\n\n\nAAPL\n2010-02-22\n7.226\n7.232\n7.114\n7.158\n390563600\nApple Inc.\n-0.949\n\n\nAAPL\n2010-02-23\n7.143\n7.190\n6.990\n7.038\n575094800\nApple Inc.\n-1.470\n\n\nAAPL\n2010-02-24\n7.080\n7.194\n7.066\n7.166\n460566400\nApple Inc.\n1.226\n\n\nAAPL\n2010-02-25\n7.049\n7.245\n7.032\n7.214\n665126000\nApple Inc.\n2.341\n\n\nAAPL\n2010-02-26\n7.228\n7.327\n7.214\n7.308\n507460800\nApple Inc.\n1.107\n\n\nAAPL\n2010-03-01\n7.348\n7.482\n7.338\n7.464\n550093600\nApple Inc.\n1.575\n\n\nAAPL\n2010-03-02\n7.497\n7.530\n7.419\n7.459\n566546400\nApple Inc.\n-0.514\n\n\nAAPL\n2010-03-03\n7.462\n7.495\n7.426\n7.476\n372052800\nApple Inc.\n0.187\n\n\nAAPL\n2010-03-04\n7.474\n7.533\n7.451\n7.525\n366041200\nApple Inc.\n0.683\n\n\nAAPL\n2010-03-05\n7.676\n7.846\n7.665\n7.820\n899620400\nApple Inc.\n1.866\n\n\nAAPL\n2010-03-08\n7.858\n7.860\n7.795\n7.824\n429889600\nApple Inc.\n-0.423\n\n\nAAPL\n2010-03-09\n7.797\n8.036\n7.782\n7.965\n920259200\nApple Inc.\n2.157\n\n\nAAPL\n2010-03-10\n7.994\n8.053\n7.971\n8.030\n596218000\nApple Inc.\n0.451\n\n\nAAPL\n2010-03-11\n7.997\n8.054\n7.976\n8.054\n405700400\nApple Inc.\n0.710\n\n\nAAPL\n2010-03-12\n8.120\n8.133\n8.062\n8.093\n416323600\nApple Inc.\n-0.339\n\n\nAAPL\n2010-03-15\n8.049\n8.054\n7.866\n7.994\n493502800\nApple Inc.\n-0.683\n\n\nAAPL\n2010-03-16\n8.006\n8.035\n7.947\n8.016\n446908000\nApple Inc.\n0.120\n\n\nAAPL\n2010-03-17\n8.032\n8.088\n7.974\n8.004\n450956800\nApple Inc.\n-0.347\n\n\nAAPL\n2010-03-18\n8.004\n8.036\n7.950\n8.023\n342109600\nApple Inc.\n0.245\n\n\nAAPL\n2010-03-19\n8.028\n8.044\n7.901\n7.938\n559445600\nApple Inc.\n-1.130\n\n\nAAPL\n2010-03-22\n7.874\n8.071\n7.862\n8.027\n456419600\nApple Inc.\n1.941\n\n\nAAPL\n2010-03-23\n8.059\n8.171\n8.004\n8.156\n602431200\nApple Inc.\n1.205\n\n\nAAPL\n2010-03-24\n8.130\n8.221\n8.125\n8.192\n597780400\nApple Inc.\n0.760\n\n\nAAPL\n2010-03-25\n8.247\n8.249\n8.080\n8.095\n542284400\nApple Inc.\n-1.849\n\n\nAAPL\n2010-03-26\n8.177\n8.284\n8.162\n8.246\n640875200\nApple Inc.\n0.852\n\n\nAAPL\n2010-03-29\n8.321\n8.352\n8.272\n8.300\n540744400\nApple Inc.\n-0.262\n\n\nAAPL\n2010-03-30\n8.450\n8.481\n8.366\n8.423\n527310000\nApple Inc.\n-0.317\n\n\nAAPL\n2010-03-31\n8.410\n8.450\n8.374\n8.393\n430659600\nApple Inc.\n-0.208\n\n\nAAPL\n2010-04-01\n8.479\n8.526\n8.312\n8.428\n603145200\nApple Inc.\n-0.607\n\n\nAAPL\n2010-04-05\n8.392\n8.518\n8.385\n8.518\n684507600\nApple Inc.\n1.494\n\n\nAAPL\n2010-04-06\n8.507\n8.580\n8.464\n8.555\n447017200\nApple Inc.\n0.563\n\n\nAAPL\n2010-04-07\n8.555\n8.640\n8.524\n8.593\n628502000\nApple Inc.\n0.438\n\n\nAAPL\n2010-04-08\n8.587\n8.626\n8.501\n8.570\n572989200\nApple Inc.\n-0.204\n\n\nAAPL\n2010-04-09\n8.623\n8.639\n8.588\n8.635\n334182800\nApple Inc.\n0.149\n\n\nAAPL\n2010-04-12\n8.650\n8.681\n8.636\n8.653\n333026400\nApple Inc.\n0.037\n\n\nAAPL\n2010-04-13\n8.638\n8.671\n8.611\n8.658\n306210800\nApple Inc.\n0.236\n\n\nAAPL\n2010-04-14\n8.760\n8.779\n8.717\n8.775\n404076400\nApple Inc.\n0.167\n\n\nAAPL\n2010-04-15\n8.778\n8.894\n8.768\n8.890\n376784800\nApple Inc.\n1.278\n\n\nAAPL\n2010-04-16\n8.877\n8.969\n8.734\n8.836\n750545600\nApple Inc.\n-0.471\n\n\nAAPL\n2010-04-19\n8.822\n8.853\n8.635\n8.824\n566924400\nApple Inc.\n0.016\n\n\nAAPL\n2010-04-20\n8.876\n8.902\n8.677\n8.735\n738326400\nApple Inc.\n-1.589\n\n\nAAPL\n2010-04-21\n9.243\n9.295\n9.133\n9.258\n982391200\nApple Inc.\n0.162\n\n\nAAPL\n2010-04-22\n9.223\n9.527\n9.150\n9.517\n793424800\nApple Inc.\n3.187\n\n\nAAPL\n2010-04-23\n9.571\n9.721\n9.536\n9.672\n796955600\nApple Inc.\n1.060\n\n\nAAPL\n2010-04-26\n9.710\n9.731\n9.578\n9.625\n479068800\nApple Inc.\n-0.875\n\n\nAAPL\n2010-04-27\n9.545\n9.566\n9.304\n9.359\n709343600\nApple Inc.\n-1.957\n\n\nAAPL\n2010-04-28\n9.402\n9.429\n9.158\n9.343\n758402400\nApple Inc.\n-0.627\n\n\nAAPL\n2010-04-29\n9.394\n9.643\n9.358\n9.594\n558840800\nApple Inc.\n2.137\n\n\nAAPL\n2010-04-30\n9.618\n9.663\n9.321\n9.325\n542463600\nApple Inc.\n-3.052\n\n\nAAPL\n2010-05-03\n9.423\n9.567\n9.389\n9.512\n454342000\nApple Inc.\n0.951\n\n\nAAPL\n2010-05-04\n9.389\n9.403\n9.170\n9.239\n723819600\nApple Inc.\n-1.601\n\n\nAAPL\n2010-05-05\n9.037\n9.219\n8.883\n9.142\n883103200\nApple Inc.\n1.170\n\n\nAAPL\n2010-05-06\n9.065\n9.223\n7.116\n8.795\n1285860800\nApple Inc.\n-2.986\n\n\nAAPL\n2010-05-07\n8.704\n8.806\n8.043\n8.424\n1676018400\nApple Inc.\n-3.221\n\n\nAAPL\n2010-05-10\n8.938\n9.095\n8.876\n9.071\n984306400\nApple Inc.\n1.495\n\n\nAAPL\n2010-05-11\n8.994\n9.282\n8.946\n9.161\n848906800\nApple Inc.\n1.858\n\n\nAAPL\n2010-05-12\n9.259\n9.398\n9.239\n9.360\n654379600\nApple Inc.\n1.099\n\n\nAAPL\n2010-05-13\n9.401\n9.464\n9.157\n9.227\n599712400\nApple Inc.\n-1.846\n\n\nAAPL\n2010-05-14\n9.113\n9.160\n8.911\n9.065\n759362800\nApple Inc.\n-0.525\n\n\nAAPL\n2010-05-17\n9.096\n9.149\n8.847\n9.079\n762834800\nApple Inc.\n-0.188\n\n\nAAPL\n2010-05-18\n9.178\n9.234\n8.938\n9.013\n782678400\nApple Inc.\n-1.798\n\n\nAAPL\n2010-05-19\n8.911\n9.033\n8.745\n8.869\n1025726800\nApple Inc.\n-0.465\n\n\nAAPL\n2010-05-20\n8.639\n8.709\n8.436\n8.491\n1282915200\nApple Inc.\n-1.703\n\n\nAAPL\n2010-05-21\n8.315\n8.732\n8.262\n8.654\n1223891200\nApple Inc.\n4.080\n\n\nAAPL\n2010-05-24\n8.831\n8.961\n8.795\n8.813\n754238800\nApple Inc.\n-0.210\n\n\nAAPL\n2010-05-25\n8.548\n8.813\n8.470\n8.758\n1048006400\nApple Inc.\n2.452\n\n\nAAPL\n2010-05-26\n8.931\n9.005\n8.705\n8.718\n850654000\nApple Inc.\n-2.387\n\n\n\n\n\n\n\nRezultātā ir iegūta viena, apvienota, tabula, ar mainītiem datu tipiem un tulkotiem nosaukumiem."
  },
  {
    "objectID": "rexam.html#datu-analīze",
    "href": "rexam.html#datu-analīze",
    "title": "R Language Exam",
    "section": "",
    "text": "Akciju vidējais pārdotias skaits, vidējā dienas atdeve un tās standartnovirze\n\n #apllūkojam uzņēmumu aprakstošo satistiku\ndata %&gt;%\n  # sagrubējam visus datus pēc uzņēmumiem\n  group_by(company) %&gt;% \n  summarise(\n    # vidējais pārdotais akciju daudzums\n    avg_volume = mean(akciju_skaits, na.rm = TRUE),\n    # lielākais pārdoto akciju daudzums dienā\n    max_volume = max(akciju_skaits, na.rm = TRUE),\n    # mazākais pārdoto akciju daudzums dienā\n    min_volume = min(akciju_skaits, na.rm = TRUE),\n    # vidējais peļņas rādītājs par periodu\n    avg_daily_return = round(mean(dienas_atdeve, na.rm = TRUE), 3),\n    # dienas atdeves standartnovirze\n    sd_daily_return = round(sd(dienas_atdeve, na.rm = TRUE), 3),\n    # vidējā akcijas slēgšanas cena\n    avg_close = round(mean(slegsanas_cena, na.rm = TRUE), 2),\n    # maksimālā akcijas slēgšanas cena\n    max_close = max(slegsanas_cena, na.rm = TRUE),\n    # minimālā akcijas slēgšanas cena\n    min_close = min(slegsanas_cena, na.rm = TRUE),\n    # Volatility - vidējā dienas akcijas cenu izmaiņa (augstākā- zemākā cena)\n    avg_volatility = round(mean(augstaka_cena - zemaka_cena, na.rm = TRUE), 2),\n    # Kopējā kimilatīvā atdeve par visu periodu \n    cumulative_return = round(((last(slegsanas_cena) - first(slegsanas_cena)) / first(slegsanas_cena)) * 100, 2),\n    # kopējās akcijas pārdošanas dienu skaits periodā\n    total_trading_days = n(),\n    # perioda pirmā diena\n    first_date = min(datums),\n    last_date = max(datums)\n  ) %&gt;% \n  arrange(desc(avg_volume)) %&gt;% \n  {. -&gt;&gt; data_1 }\n\ndata_1 %&gt;% \n  kbl() %&gt;% \n  kable_styling(full_width = FALSE) %&gt;%\n  scroll_box(width = \"100%\", height = \"400px\")\n\n\n\n\n\ncompany\navg_volume\nmax_volume\nmin_volume\navg_daily_return\nsd_daily_return\navg_close\nmax_close\nmin_close\navg_volatility\ncumulative_return\ntotal_trading_days\nfirst_date\nlast_date\n\n\n\n\nApple Inc.\n256325536\n1880998000\n35195900\n0.027\n1.402\n51.30\n182.010\n6.859\n1.14\n1595.80\n3271\n2010-01-04\n2022-12-29\n\n\nTesla, Inc.\n93516466\n914082000\n1777500\n0.001\n2.935\n58.81\n409.970\n1.053\n2.77\n7566.46\n3148\n2010-06-30\n2022-12-29\n\n\nAmazon.com, Inc.\n88339985\n848422000\n17626000\n0.010\n1.635\n58.91\n186.570\n5.431\n1.43\n1157.36\n3271\n2010-01-04\n2022-12-29\n\n\nAlphabet Inc.\n60186469\n592399008\n9312000\n-0.004\n1.277\n49.15\n149.839\n10.913\n1.00\n463.95\n3271\n2010-01-04\n2022-12-29\n\n\nNVIDIA Corporation\n50806127\n369292800\n4564400\n0.038\n2.302\n50.56\n333.760\n2.220\n1.96\n3059.45\n3271\n2010-01-04\n2022-12-29\n\n\nMicrosoft Corporation\n38016469\n319317900\n7425600\n0.039\n1.261\n100.07\n343.110\n23.010\n2.03\n678.71\n3271\n2010-01-04\n2022-12-29\n\n\nIntel Corporation\n36071696\n199002600\n5893800\n0.041\n1.392\n36.49\n68.470\n17.670\n0.78\n25.53\n3271\n2010-01-04\n2022-12-29\n\n\nCisco Systems, Inc.\n32696560\n560040200\n5720500\n0.031\n1.196\n33.50\n63.960\n13.730\n0.62\n92.39\n3271\n2010-01-04\n2022-12-29\n\n\nMeta Platforms, Inc.\n31178147\n573576400\n5913100\n0.016\n1.833\n147.91\n382.180\n17.730\n3.75\n274.42\n2688\n2012-05-18\n2023-01-24\n\n\nNetflix, Inc.\n18414854\n315541800\n1144000\n0.090\n2.453\n188.25\n691.690\n7.019\n6.01\n3710.47\n3271\n2010-01-04\n2022-12-29\n\n\nOracle Corporation\n18018559\n183503900\n2754900\n0.054\n1.259\n46.26\n103.650\n21.460\n0.87\n227.57\n3271\n2010-01-04\n2022-12-29\n\n\nSalesforce, Inc.\n6910973\n64562800\n1084700\n0.032\n1.847\n103.40\n309.960\n15.520\n2.72\n608.58\n3271\n2010-01-04\n2022-12-29\n\n\nInternational Business Machines Corporation\n5036545\n39814421\n1247878\n0.036\n1.039\n148.47\n206.310\n90.602\n2.23\n11.40\n3271\n2010-01-04\n2022-12-29\n\n\nAdobe Inc.\n3814337\n108752400\n589200\n0.055\n1.556\n186.02\n688.370\n22.690\n4.59\n810.16\n3271\n2010-01-04\n2022-12-29"
  },
  {
    "objectID": "rexam.html#datu-modeļu",
    "href": "rexam.html#datu-modeļu",
    "title": "R Language Exam",
    "section": "",
    "text": "Lineārār regresijas formula\n\\(\\text{slegsanas\\_cena} = \\beta_0 + \\beta_1 \\cdot \\text{atversanas\\_cena} + \\beta_2 \\cdot \\text{akciju\\_skaits} + \\beta_3 \\cdot \\text{dienas\\_atdeve} + \\varepsilon\\)\n\n# Filtrējam datus tikai vienam uzņēmumam, piemēram, \"Apple\"\napple_data &lt;- data %&gt;% filter(company == \"Apple Inc.\")\n\n# Veicam lineāro regresiju: Slēgšanas cena kā atkarīgais mainīgais no atvēršanas cenas\nlinear_model_apple &lt;- lm(slegsanas_cena ~ atversanas_cena + akciju_skaits + dienas_atdeve, data = apple_data)\n\n# Izvadam modeļa kopsavilkumu\nsummary(linear_model_apple)\n\n\nCall:\nlm(formula = slegsanas_cena ~ atversanas_cena + akciju_skaits + \n    dienas_atdeve, data = apple_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.6572 -0.2594  0.0101  0.2685  6.0308 \n\nCoefficients:\n                  Estimate Std. Error  t value Pr(&gt;|t|)    \n(Intercept)     -6.128e-02  3.173e-02   -1.932   0.0535 .  \natversanas_cena  1.000e+00  3.157e-04 3169.489   &lt;2e-16 ***\nakciju_skaits    1.729e-10  6.728e-11    2.569   0.0102 *  \ndienas_atdeve    6.152e-01  9.256e-03   66.463   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.7399 on 3267 degrees of freedom\nMultiple R-squared:  0.9998,    Adjusted R-squared:  0.9998 \nF-statistic: 4.462e+06 on 3 and 3267 DF,  p-value: &lt; 2.2e-16\n\n\nSvarīgākie modeļa parametri:\n\nKoeficienti: Parāda, kā mainās slēgšanas cena, ja neatkarīgie mainīgie mainās par vienu vienību.\nP-vērtība: Indikē, vai attiecīgais mainīgais ir statistiski nozīmīgs.\nR^2: Paskaidro, cik liela daļa no slēgšanas cenas variācijas tiek izskaidrota ar izvēlētajiem mainīgajiem.\nResiduals: Atlikumu analīze, lai novērtētu modeļa piemērotību.\n\n\n\n\n\n# Veicam prognozi ar jauniem datiem konkrētam uzņēmumam\nnew_apple_data &lt;- data.frame(\n  atversanas_cena = c(150, 200, 250),\n  akciju_skaits = c(1000000, 1500000, 2000000),\n  dienas_atdeve = c(1.5, 2.0, -0.5)\n)\n# izveidojam jaunu prognozes mainīgo\napple_predictions &lt;- predict(linear_model_apple, new_apple_data)\nnew_apple_data$slegsanas_cena_pred &lt;- apple_predictions\n# Izvadām prognozētās vērtības\nnew_apple_data %&gt;% kbl()\n\n\n\n\natversanas_cena\nakciju_skaits\ndienas_atdeve\nslegsanas_cena_pred\n\n\n\n\n150\n1000000\n1.5\n150.9300\n\n\n200\n1500000\n2.0\n201.2604\n\n\n250\n2000000\n-0.5\n249.7453\n\n\n\n\n\n\n\n\n\n\n\n# Combine actual and predicted data\nnew_apple_data$source &lt;- \"Prediction\"\napple_data$source &lt;- \"Actual\"\n\ncombined_data &lt;- bind_rows(\n  apple_data %&gt;% select(atversanas_cena, slegsanas_cena) %&gt;% mutate(source = \"Actual\"),\n  new_apple_data %&gt;% rename(slegsanas_cena = slegsanas_cena_pred) %&gt;% mutate(source = \"Prediction\")\n)\n\n# Plot actual vs predicted values\nggplot(combined_data, aes(x = atversanas_cena, y = slegsanas_cena, color = source)) +\n  geom_point(alpha = 0.6) +\n  geom_smooth(data = apple_data, aes(x = atversanas_cena, y = slegsanas_cena), method = \"lm\", color = \"red\") +\n  labs(title = \"Apple slēgšanas cenas prognoze un faktiskās vērtības\",\n       x = \"Atvēršanas cena\",\n       y = \"Slēgšanas cena\") +\n  theme_minimal() +\n  scale_color_manual(values = c(\"Actual\" = \"blue\", \"Prediction\" = \"green\"))\n\n`geom_smooth()` using formula = 'y ~ x'"
  },
  {
    "objectID": "rexam.html#ieguldījumu-funkcija",
    "href": "rexam.html#ieguldījumu-funkcija",
    "title": "R Language Exam",
    "section": "",
    "text": "# Funkcija investīcijas peļņas aprēķinam visām kompānijām\ninvesticija_peļņa_visam &lt;- function(sakotneja_suma) {\n  \n  # Aprēķinam peļņu katrai kompānijai\n  rezultati &lt;- data %&gt;%\n    group_by(company) %&gt;%  # Grupējam datus pēc kompānijas nosaukuma\n    arrange(datums) %&gt;%    # Kārtojam datus pēc datuma hronoloģiskā secībā\n    summarise(\n      sakuma_cena = first(slegsanas_cena),  # Iegūstam akcijas sākuma cenu\n      beigu_cena = last(slegsanas_cena),    # Iegūstam akcijas beigu cenu\n      .groups = \"drop\"  # Atceļam grupēšanu pēc apstrādes\n    ) %&gt;%\n    mutate(\n      # Aprēķinām kopējo peļņu ieguldījuma periodā\n      pelna = round(sakotneja_suma * (beigu_cena / sakuma_cena) - sakotneja_suma,),\n      # Aprēķinām procentuālo pieaugumu ieguldījuma periodā\n      pieaugums_proc = round((beigu_cena - sakuma_cena) / sakuma_cena * 100\n    ),2) %&gt;%\n    select(company, pelna, pieaugums_proc) %&gt;%  # Atlasām vajadzīgās kolonnas\n    rename(\n      \"Uzņēmums\" = company,  # Pārsaucam kompānijas kolonnu\n      \"Peļņa (EUR)\" = pelna,  # Pārsaucam peļņas kolonnu\n      \"Peļņa (%)\" = pieaugums_proc  # Pārsaucam peļņas procentu kolonnu\n    ) %&gt;% \n    arrange(desc(`Peļņa (EUR)`)  # Kārtojam pēc lielākās peļņas dilstošā secībā\n    ) %&gt;% kbl() %&gt;% \n    kable_styling(full_width = FALSE) %&gt;%\n    scroll_box(width = \"100%\", height = \"400px\")\n    \n  return(rezultati)  # Atgriežam rezultātu tabulu\n}\n\n# Piemērs funkcijas izsaukšanai ar ieguldījumu 1000 EUR\ninvesticija_peļņa_visam(sakotneja_suma = 1000)  # Izsaucam funkciju ar piemēra summu\n\n\n\n\n\nUzņēmums\nPeļņa (EUR)\nPeļņa (%)\n\n\n\n\nTesla, Inc.\n75665\n7566\n\n\nNetflix, Inc.\n37105\n3710\n\n\nNVIDIA Corporation\n30595\n3059\n\n\nApple Inc.\n15958\n1596\n\n\nAmazon.com, Inc.\n11574\n1157\n\n\nAdobe Inc.\n8102\n810\n\n\nMicrosoft Corporation\n6787\n679\n\n\nSalesforce, Inc.\n6086\n609\n\n\nAlphabet Inc.\n4640\n464\n\n\nMeta Platforms, Inc.\n2744\n274\n\n\nOracle Corporation\n2276\n228\n\n\nCisco Systems, Inc.\n924\n92\n\n\nIntel Corporation\n255\n26\n\n\nInternational Business Machines Corporation\n114\n11\n\n\n\n\n\n\n\n\n# Izveidojam datus grafika attēlošanai\nplot_data &lt;- data %&gt;%\n  group_by(company) %&gt;%\n  arrange(datums) %&gt;%\n  summarise(\n    sakuma_cena = first(slegsanas_cena),\n    beigu_cena = last(slegsanas_cena),\n    pelna = round(1000 * (last(slegsanas_cena) / first(slegsanas_cena)) - 1000),\n    pieaugums_proc = round((last(slegsanas_cena) - first(slegsanas_cena)) / first(slegsanas_cena) * 100, 2),\n    .groups = \"drop\"\n  ) %&gt;%\n\n  select(company, pelna, pieaugums_proc) %&gt;%\n  rename(\n    \"Uzņēmums\" = company,\n    \"Peļņa (EUR)\" = pelna,\n    \"Peļņa (%)\" = pieaugums_proc,\n    \n  ) %&gt;%\n  arrange(desc(`Peļņa (EUR)`))\n\nggplot(plot_data, aes(x = reorder(`Uzņēmums`, `Peļņa (EUR)`), y = `Peļņa (EUR)`)) +\n  # Pievienojam barchart, count vietā, liekam attēlot plot_data datus\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  # Pagriežam koordinātu sistēmu, lai joslas būtu horizontālas\n  coord_flip() +\n  # Pievienojam diagrammas nosaukumu un ass nosaukumus\n  labs(title = \"Kompāniju peļņa no sākotnējā ieguldījuma\",\n       x = \"Uzņēmums\",\n       y = \"Peļņa (EUR)\") +\n  theme_minimal()"
  },
  {
    "objectID": "rexam.html#ieguldījumu-funkcijahipotēze-ieguldot-1000-eiro-apple-inc.-pēc-12-gadiem-tiks-saņemta-lielākā-peļņa",
    "href": "rexam.html#ieguldījumu-funkcijahipotēze-ieguldot-1000-eiro-apple-inc.-pēc-12-gadiem-tiks-saņemta-lielākā-peļņa",
    "title": "R Language Exam",
    "section": "",
    "text": "# Funkcija investīcijas peļņas aprēķinam visām kompānijām\ninvesticija_peļņa_visam &lt;- function(sakotneja_suma) {\n  \n  # Aprēķinam peļņu katrai kompānijai\n  rezultati &lt;- data %&gt;%\n    group_by(company) %&gt;%  # Grupējam datus pēc kompānijas nosaukuma\n    arrange(datums) %&gt;%    # Kārtojam datus pēc datuma hronoloģiskā secībā\n    summarise(\n      sakuma_cena = first(slegsanas_cena),  # Iegūstam akcijas sākuma cenu\n      beigu_cena = last(slegsanas_cena),    # Iegūstam akcijas beigu cenu\n      .groups = \"drop\"  # Atceļam grupēšanu pēc apstrādes\n    ) %&gt;%\n    mutate(\n      # Aprēķinām kopējo peļņu ieguldījuma periodā\n      pelna = round(sakotneja_suma * (beigu_cena / sakuma_cena) - sakotneja_suma,),\n      # Aprēķinām procentuālo pieaugumu ieguldījuma periodā\n      pieaugums_proc = round((beigu_cena - sakuma_cena) / sakuma_cena * 100\n    ),2) %&gt;%\n    select(company, pelna, pieaugums_proc) %&gt;%  # Atlasām vajadzīgās kolonnas\n    rename(\n      \"Uzņēmums\" = company,  # Pārsaucam kompānijas kolonnu\n      \"Peļņa (EUR)\" = pelna,  # Pārsaucam peļņas kolonnu\n      \"Peļņa (%)\" = pieaugums_proc  # Pārsaucam peļņas procentu kolonnu\n    ) %&gt;% \n    arrange(desc(`Peļņa (EUR)`)  # Kārtojam pēc lielākās peļņas dilstošā secībā\n    ) %&gt;% kbl() %&gt;% \n    kable_styling(full_width = FALSE) %&gt;%\n    scroll_box(width = \"100%\", height = \"400px\")\n    \n  return(rezultati)  # Atgriežam rezultātu tabulu\n}\n\n# Piemērs funkcijas izsaukšanai ar ieguldījumu 1000 EUR\ninvesticija_peļņa_visam(sakotneja_suma = 1000)  # Izsaucam funkciju ar piemēra summu\n\n\n\n\n\nUzņēmums\nPeļņa (EUR)\nPeļņa (%)\n\n\n\n\nTesla, Inc.\n75665\n7566\n\n\nNetflix, Inc.\n37105\n3710\n\n\nNVIDIA Corporation\n30595\n3059\n\n\nApple Inc.\n15958\n1596\n\n\nAmazon.com, Inc.\n11574\n1157\n\n\nAdobe Inc.\n8102\n810\n\n\nMicrosoft Corporation\n6787\n679\n\n\nSalesforce, Inc.\n6086\n609\n\n\nAlphabet Inc.\n4640\n464\n\n\nMeta Platforms, Inc.\n2744\n274\n\n\nOracle Corporation\n2276\n228\n\n\nCisco Systems, Inc.\n924\n92\n\n\nIntel Corporation\n255\n26\n\n\nInternational Business Machines Corporation\n114\n11\n\n\n\n\n\n\n\n\n# Izveidojam datus grafika attēlošanai\nplot_data &lt;- data %&gt;%\n  group_by(company) %&gt;%\n  arrange(datums) %&gt;%\n  summarise(\n    sakuma_cena = first(slegsanas_cena),\n    beigu_cena = last(slegsanas_cena),\n    pelna = round(1000 * (last(slegsanas_cena) / first(slegsanas_cena)) - 1000),\n    pieaugums_proc = round((last(slegsanas_cena) - first(slegsanas_cena)) / first(slegsanas_cena) * 100, 2),\n    .groups = \"drop\"\n  ) %&gt;%\n\n  select(company, pelna, pieaugums_proc) %&gt;%\n  rename(\n    \"Uzņēmums\" = company,\n    \"Peļņa (EUR)\" = pelna,\n    \"Peļņa (%)\" = pieaugums_proc,\n    \n  ) %&gt;%\n  arrange(desc(`Peļņa (EUR)`))\n\nggplot(plot_data, aes(x = reorder(`Uzņēmums`, `Peļņa (EUR)`), y = `Peļņa (EUR)`)) +\n  # Pievienojam barchart, count vietā, liekam attēlot plot_data datus\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  # Pagriežam koordinātu sistēmu, lai joslas būtu horizontālas\n  coord_flip() +\n  # Pievienojam diagrammas nosaukumu un ass nosaukumus\n  labs(title = \"Kompāniju peļņa no sākotnējā ieguldījuma\",\n       x = \"Uzņēmums\",\n       y = \"Peļņa (EUR)\") +\n  theme_minimal()"
  }
]